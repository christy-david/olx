/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={573:t=>{var e=/["'&<>]/;t.exports=function(t){var n,r=""+t,i=e.exec(r);if(!i)return r;var o="",a=0,s=0;for(a=i.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}s!==a&&(o+=r.substring(s,a)),s=a+1,o+=n}return s!==a?o+r.substring(s,a):o}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{function t(){}function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t){return 0===Object.keys(t).length}new Set;const u="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class l{constructor(t){this.options=t,this._listeners="WeakMap"in u?new WeakMap:void 0}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return null!==(t=this._observer)&&void 0!==t?t:this._observer=new ResizeObserver((t=>{var e;for(const n of t)l.entries.set(n.target,n),null===(e=this._listeners.get(n.target))||void 0===e||e(n)}))}}l.entries="WeakMap"in u?new WeakMap:void 0;let c,h,f=!1;function p(t,e){t.appendChild(e)}function d(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}(t);if(!r.getElementById(e)){const t=y("style");t.id=e,t.textContent=n,function(t,e){p(t.head||t,e),e.sheet}(r,t)}}function m(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function x(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function M(){if(void 0===c){c=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){c=!0}}return c}function A(t){h=t}function E(){if(!h)throw new Error("Function called outside component initialization");return h}function N(t){E().$$.on_mount.push(t)}function O(){const t=E();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}new Map;const S=[],T=[];let C=[];const z=[],j=Promise.resolve();let P=!1;function L(){P||(P=!0,j.then(F))}function q(){return L(),j}function D(t){C.push(t)}const I=new Set;let H=0;function F(){if(0!==H)return;const t=h;do{try{for(;H<S.length;){const t=S[H];H++,A(t),V(t.$$)}}catch(t){throw S.length=0,H=0,t}for(A(null),S.length=0,H=0;T.length;)T.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];I.has(e)||(I.add(e),e())}C.length=0}while(S.length);for(;z.length;)z.pop()();P=!1,I.clear(),A(t)}function V(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const B=new Set;let R,W;function U(){R={r:0,c:[],p:R}}function X(){R.r||i(R.c),R=R.p}function Y(t,e){t&&t.i&&(B.delete(t),t.i(e))}function K(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),R.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function G(t){t&&t.c()}function Q(t,n,r,a){const{fragment:s,after_update:u}=t.$$;s&&s.m(n,r),a||D((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(D)}function J(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];C.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),C=e}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,n,o,a,s,u,l,c=[-1]){const p=h;A(e);const d=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||p.$$.root};l&&l(d.root);let m=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),m&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),L(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){f=!0;const t=(v=n.target,Array.from(v.childNodes));d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&Y(e.$$.fragment),Q(e,n.target,n.anchor,n.customElement),f=!1,F()}var v;A(p)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(W=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!s(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class tt{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){this.$$set&&!s(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const et=Math.sqrt(50),nt=Math.sqrt(10),rt=Math.sqrt(2);function it(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=et?10:o>=nt?5:o>=rt?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?it(t,e,2*n):[s,u,l]}function ot(t,e,n){return it(t=+t,e=+e,n=+n)[2]}function at(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function st(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ut(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=at,n=(e,n)=>at(t(e),n),r=(e,n)=>t(e)-n):(e=t===at||t===st?t:lt,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function lt(){return 0}const ct=ut(at),ht=ct.right,ft=(ct.left,ut((function(t){return null===t?NaN:+t})).center,ht);function pt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mt(){}var gt=.7,vt=1/gt,yt="\\s*([+-]?\\d+)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bt=/^#([0-9a-f]{3,8})$/,xt=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),$t=new RegExp("^rgb\\("+[wt,wt,wt]+"\\)$"),kt=new RegExp("^rgba\\("+[yt,yt,yt,_t]+"\\)$"),Mt=new RegExp("^rgba\\("+[wt,wt,wt,_t]+"\\)$"),At=new RegExp("^hsl\\("+[_t,wt,wt]+"\\)$"),Et=new RegExp("^hsla\\("+[_t,wt,wt,_t]+"\\)$"),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ot(){return this.rgb().formatHex()}function St(){return this.rgb().formatRgb()}function Tt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ct(e):3===n?new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?zt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?zt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xt.exec(t))?new Lt(e[1],e[2],e[3],1):(e=$t.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kt.exec(t))?zt(e[1],e[2],e[3],e[4]):(e=Mt.exec(t))?zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=At.exec(t))?Ht(e[1],e[2]/100,e[3]/100,1):(e=Et.exec(t))?Ht(e[1],e[2]/100,e[3]/100,e[4]):Nt.hasOwnProperty(t)?Ct(Nt[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function Ct(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function zt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lt(t,e,n,r)}function jt(t){return t instanceof mt||(t=Tt(t)),t?new Lt((t=t.rgb()).r,t.g,t.b,t.opacity):new Lt}function Pt(t,e,n,r){return 1===arguments.length?jt(t):new Lt(t,e,n,null==r?1:r)}function Lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function qt(){return"#"+It(this.r)+It(this.g)+It(this.b)}function Dt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function It(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ht(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vt(t,e,n,r)}function Ft(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);if(t instanceof mt||(t=Tt(t)),!t)return new Vt;if(t instanceof Vt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Vt(a,s,u,t.opacity)}function Vt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Rt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}pt(mt,Tt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ot,formatHex:Ot,formatHsl:function(){return Ft(this).formatHsl()},formatRgb:St,toString:St}),pt(Lt,Pt,dt(mt,{brighter:function(t){return t=null==t?vt:Math.pow(vt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?gt:Math.pow(gt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Dt,toString:Dt})),pt(Vt,(function(t,e,n,r){return 1===arguments.length?Ft(t):new Vt(t,e,n,null==r?1:r)}),dt(mt,{brighter:function(t){return t=null==t?vt:Math.pow(vt,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?gt:Math.pow(gt,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lt(Bt(t>=240?t-240:t+120,i,r),Bt(t,i,r),Bt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Wt=t=>()=>t;function Ut(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Wt(isNaN(t)?e:t)}const Xt=function t(e){var n=function(t){return 1==(t=+t)?Ut:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Wt(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Pt(t)).r,(e=Pt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ut(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Yt(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Pt(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Kt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=re(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Gt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jt(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=re(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}Yt((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Rt((n-r/e)*e,a,i,o,s)}})),Yt((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Rt((n-r/e)*e,i,o,a,s)}}));var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(Zt.source,"g");function ee(t,e){var n,r,i,o=Zt.lastIndex=te.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Zt.exec(t))&&(r=te.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Qt(n,r)})),o=te.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function ne(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function re(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Wt(e):("number"===i?Qt:"string"===i?(n=Tt(e))?(e=n,Xt):ee:e instanceof Tt?Xt:e instanceof Date?Gt:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Kt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Jt:Qt:ne))(t,e)}function ie(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function oe(t){return+t}var ae=[0,1];function se(t){return t}function ue(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function le(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ue(i,r),o=n(a,o)):(r=ue(r,i),o=n(o,a)),function(t){return o(r(t))}}function ce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ue(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ft(t,e,1,r)-1;return o[n](i[n](e))}}function he(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fe(){var t,e,n,r,i,o,a=ae,s=ae,u=re,l=se;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==se&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?ce:le,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),Qt)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,oe),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=ie,c()},h.clamp=function(t){return arguments.length?(l=!!t||se,c()):l!==se},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function pe(){return fe()(se,se)}function de(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var me,ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ve(t){if(!(e=ge.exec(t)))throw new Error("invalid format: "+t);var e;return new ye({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ye(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function _e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function we(t){return(t=_e(Math.abs(t)))?t[1]:NaN}function be(t,e){var n=_e(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ve.prototype=ye.prototype,ye.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xe={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>be(100*t,e),r:be,s:function(t,e){var n=_e(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(me=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_e(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $e(t){return t}var ke,Me,Ae,Ee=Array.prototype.map,Ne=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oe(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?it(e,t,n):it(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)u[t]=(o-t)/-a;else for(let t=0;t<s;++t)u[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)u[t]=(i+t)/-a;else for(let t=0;t<s;++t)u[t]=(i+t)*a;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?ot(e,t,n):ot(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=ve(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(we(e)/3)))-we(Math.abs(t)))}(o,a))||(r.precision=i),Ae(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,we(e)-we(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-we(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Me(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=ot(u,l,n))===r)return o[a]=u,o[s]=l,e(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Se(){var t=pe();return t.copy=function(){return he(t,Se())},de.apply(t,arguments),Oe(t)}function Te(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ze(t){return t<0?-t*t:t*t}function je(t){var e=t(se,se),n=1;function r(){return 1===n?t(se,se):.5===n?t(Ce,ze):t(Te(n),Te(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Oe(e)}function Pe(){var t=je(fe());return t.copy=function(){return he(t,Pe()).exponent(t.exponent())},de.apply(t,arguments),t}function Le(){return Pe.apply(null,arguments).exponent(.5)}ke=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?$e:(e=Ee.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?$e:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ee.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ve(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):xe[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===f?o:/[%p]/.test(y)?u:"",b=xe[y],x=/[defgprs%]/.test(y);function $(t){var i,o,u,f=_,$=w;if("c"===y)$=b(t)+$,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:l:"-"===h||"("===h?"":h)+f,$=("s"===y?Ne[8+me/3]:"")+$+(k&&"("===h?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){$=(46===u?a+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}m&&!p&&(t=r(t,1/0));var M=f.length+t.length+$.length,A=M<d?new Array(d-M+1).join(e):"";switch(m&&p&&(t=r(A+t,A.length?d-$.length:1/0),A=""),n){case"<":t=f+t+$+A;break;case"=":t=f+A+t+$;break;case"^":t=A.slice(0,M=A.length>>1)+f+t+$+A.slice(M);break;default:t=A+f+t+$}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),$.toString=function(){return t+""},$}return{format:h,formatPrefix:function(t,e){var n=h(((t=ve(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(we(e)/3))),i=Math.pow(10,-r),o=Ne[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),Me=ke.format,Ae=ke.formatPrefix;var qe=Array.prototype.slice;function De(t){return function(){return t}}function Ie(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class He{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,0===this._point)this._point=1;else{const n=Ie(this._x0,this._y0),r=Ie(this._x0,this._y0=(this._y0+e)/2),i=Ie(t,this._y0),o=Ie(t,e);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...i,...o)}this._x0=t,this._y0=e}}function Fe(t){return new He(t)}const Ve=Math.PI,Be=2*Ve,Re=1e-6,We=Be-Re;function Ue(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Xe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Ue:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ue;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,h=l*l+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Re)if(Math.abs(c*s-u*l)>Re&&i){let f=n-o,p=r-a,d=s*s+u*u,m=f*f+p*p,g=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((Ve-Math.acos((d+h-m)/(2*g*v)))/2),_=y/v,w=y/g;Math.abs(_-1)>Re&&this._append`L${t+_*l},${e+_*c}`,this._append`A${i},${i},0,0,${+(c*f>l*p)},${this._x1=t+w*s},${this._y1=e+w*u}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Re||Math.abs(this._y1-l)>Re)&&this._append`L${u},${l}`,n&&(h<0&&(h=h%Be+Be),h>We?this._append`A${n},${n},0,1,${c},${t-a},${e-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=l}`:h>Re&&this._append`A${n},${n},0,${+(h>=Ve)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ye(t){return t[0]}function Ke(t){return t[1]}function Ge(t){return t.source}function Qe(t){return t.target}const Je=134217729;function Ze(t,e,n,r,i){let o,a,s,u,l=e[0],c=r[0],h=0,f=0;c>l==c>-l?(o=l,l=e[++h]):(o=c,c=r[++f]);let p=0;if(h<t&&f<n)for(c>l==c>-l?(a=l+o,s=o-(a-l),l=e[++h]):(a=c+o,s=o-(a-c),c=r[++f]),o=a,0!==s&&(i[p++]=s);h<t&&f<n;)c>l==c>-l?(a=o+l,u=a-o,s=o-(a-u)+(l-u),l=e[++h]):(a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++f]),o=a,0!==s&&(i[p++]=s);for(;h<t;)a=o+l,u=a-o,s=o-(a-u)+(l-u),l=e[++h],o=a,0!==s&&(i[p++]=s);for(;f<n;)a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++f],o=a,0!==s&&(i[p++]=s);return 0===o&&0!==p||(i[p++]=o),p}function tn(t){return new Float64Array(t)}const en=tn(4),nn=tn(8),rn=tn(12),on=tn(16),an=tn(4);function sn(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),u=a-s;if(0===a||0===s||a>0!=s>0)return u;const l=Math.abs(a+s);return Math.abs(u)>=33306690738754716e-32*l?u:-function(t,e,n,r,i,o,a){let s,u,l,c,h,f,p,d,m,g,v,y,_,w,b,x,$,k;const M=t-i,A=n-i,E=e-o,N=r-o;w=M*N,f=Je*M,p=f-(f-M),d=M-p,f=Je*N,m=f-(f-N),g=N-m,b=d*g-(w-p*m-d*m-p*g),x=E*A,f=Je*E,p=f-(f-E),d=E-p,f=Je*A,m=f-(f-A),g=A-m,$=d*g-(x-p*m-d*m-p*g),v=b-$,h=b-v,en[0]=b-(v+h)+(h-$),y=w+v,h=y-w,_=w-(y-h)+(v-h),v=_-x,h=_-v,en[1]=_-(v+h)+(h-x),k=y+v,h=k-y,en[2]=y-(k-h)+(v-h),en[3]=k;let O=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,en),S=22204460492503146e-32*a;if(O>=S||-O>=S)return O;if(h=t-M,s=t-(M+h)+(h-i),h=n-A,l=n-(A+h)+(h-i),h=e-E,u=e-(E+h)+(h-o),h=r-N,c=r-(N+h)+(h-o),0===s&&0===u&&0===l&&0===c)return O;if(S=11093356479670487e-47*a+33306690738754706e-32*Math.abs(O),O+=M*c+N*s-(E*l+A*u),O>=S||-O>=S)return O;w=s*N,f=Je*s,p=f-(f-s),d=s-p,f=Je*N,m=f-(f-N),g=N-m,b=d*g-(w-p*m-d*m-p*g),x=u*A,f=Je*u,p=f-(f-u),d=u-p,f=Je*A,m=f-(f-A),g=A-m,$=d*g-(x-p*m-d*m-p*g),v=b-$,h=b-v,an[0]=b-(v+h)+(h-$),y=w+v,h=y-w,_=w-(y-h)+(v-h),v=_-x,h=_-v,an[1]=_-(v+h)+(h-x),k=y+v,h=k-y,an[2]=y-(k-h)+(v-h),an[3]=k;const T=Ze(4,en,4,an,nn);w=M*c,f=Je*M,p=f-(f-M),d=M-p,f=Je*c,m=f-(f-c),g=c-m,b=d*g-(w-p*m-d*m-p*g),x=E*l,f=Je*E,p=f-(f-E),d=E-p,f=Je*l,m=f-(f-l),g=l-m,$=d*g-(x-p*m-d*m-p*g),v=b-$,h=b-v,an[0]=b-(v+h)+(h-$),y=w+v,h=y-w,_=w-(y-h)+(v-h),v=_-x,h=_-v,an[1]=_-(v+h)+(h-x),k=y+v,h=k-y,an[2]=y-(k-h)+(v-h),an[3]=k;const C=Ze(T,nn,4,an,rn);w=s*c,f=Je*s,p=f-(f-s),d=s-p,f=Je*c,m=f-(f-c),g=c-m,b=d*g-(w-p*m-d*m-p*g),x=u*l,f=Je*u,p=f-(f-u),d=u-p,f=Je*l,m=f-(f-l),g=l-m,$=d*g-(x-p*m-d*m-p*g),v=b-$,h=b-v,an[0]=b-(v+h)+(h-$),y=w+v,h=y-w,_=w-(y-h)+(v-h),v=_-x,h=_-v,an[1]=_-(v+h)+(h-x),k=y+v,h=k-y,an[2]=y-(k-h)+(v-h),an[3]=k;const z=Ze(C,rn,4,an,on);return on[z-1]}(t,e,n,r,i,o,l)}tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(8),tn(8),tn(8),tn(4),tn(8),tn(8),tn(8),tn(12),tn(192),tn(192),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(8),tn(8),tn(8),tn(8),tn(8),tn(8),tn(8),tn(8),tn(8),tn(4),tn(4),tn(4),tn(8),tn(16),tn(16),tn(16),tn(32),tn(32),tn(48),tn(64),tn(1152),tn(1152),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(4),tn(24),tn(24),tn(24),tn(24),tn(24),tn(24),tn(24),tn(24),tn(24),tn(24),tn(1152),tn(1152),tn(1152),tn(1152),tn(1152),tn(2304),tn(2304),tn(3456),tn(5760),tn(8),tn(8),tn(8),tn(16),tn(24),tn(48),tn(48),tn(96),tn(192),tn(384),tn(384),tn(384),tn(768),tn(96),tn(96),tn(96),tn(1152);const un=Math.pow(2,-52),ln=new Uint32Array(512);class cn{static from(t,e=gn,n=vn){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new cn(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,u=-1/0,l=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>u&&(u=n),r>l&&(l=r),this._ids[e]=e}const c=(a+u)/2,h=(s+l)/2;let f,p,d,m=1/0;for(let e=0;e<o;e++){const n=hn(c,h,t[2*e],t[2*e+1]);n<m&&(f=e,m=n)}const g=t[2*f],v=t[2*f+1];m=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=hn(g,v,t[2*e],t[2*e+1]);n<m&&n>0&&(p=e,m=n)}let y=t[2*p],_=t[2*p+1],w=1/0;for(let e=0;e<o;e++){if(e===f||e===p)continue;const n=pn(g,v,y,_,t[2*e],t[2*e+1]);n<w&&(d=e,w=n)}let b=t[2*d],x=t[2*d+1];if(w===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];dn(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(sn(g,v,y,_,b,x)<0){const t=p,e=y,n=_;p=d,y=b,_=x,d=t,b=e,x=n}const $=function(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,l=o-e,c=a*a+s*s,h=u*u+l*l,f=.5/(a*l-s*u);return{x:t+(l*c-s*h)*f,y:e+(a*h-u*c)*f}}(g,v,y,_,b,x);this._cx=$.x,this._cy=$.y;for(let e=0;e<o;e++)this._dists[e]=hn(t[2*e],t[2*e+1],$.x,$.y);dn(this._ids,this._dists,0,o-1),this._hullStart=f;let k=3;n[f]=e[d]=p,n[p]=e[f]=d,n[d]=e[p]=f,r[f]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(g,v)]=f,i[this._hashKey(y,_)]=p,i[this._hashKey(b,x)]=d,this.trianglesLen=0,this._addTriangle(f,p,d,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const u=this._ids[s],l=t[2*u],c=t[2*u+1];if(s>0&&Math.abs(l-o)<=un&&Math.abs(c-a)<=un)continue;if(o=l,a=c,u===f||u===p||u===d)continue;let h=0;for(let t=0,e=this._hashKey(l,c);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let m,g=h;for(;m=n[g],sn(l,c,t[2*g],t[2*g+1],t[2*m],t[2*m+1])>=0;)if(g=m,g===h){g=-1;break}if(-1===g)continue;let v=this._addTriangle(g,u,n[g],-1,-1,r[g]);r[u]=this._legalize(v+2),r[g]=v,k++;let y=n[g];for(;m=n[y],sn(l,c,t[2*y],t[2*y+1],t[2*m],t[2*m+1])<0;)v=this._addTriangle(y,u,m,r[u],-1,r[y]),r[u]=this._legalize(v+2),n[y]=y,k--,y=m;if(g===h)for(;m=e[g],sn(l,c,t[2*m],t[2*m+1],t[2*g],t[2*g+1])<0;)v=this._addTriangle(m,u,g,-1,r[g],r[m]),this._legalize(v+2),r[m]=v,n[g]=g,k--,g=m;this._hullStart=e[u]=g,n[g]=e[y]=u,n[u]=y,i[this._hashKey(l,c)]=u,i[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(k);for(let t=0,e=this._hullStart;t<k;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=ln[--i];continue}const u=a-a%3,l=s+(t+1)%3,c=u+(a+2)%3,h=e[o],f=e[t],p=e[l],d=e[c];if(fn(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1],r[2*d],r[2*d+1])){e[t]=d,e[a]=h;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const s=u+(a+1)%3;i<ln.length&&(ln[i++]=s)}else{if(0===i)break;t=ln[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function hn(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function fn(t,e,n,r,i,o,a,s){const u=t-a,l=e-s,c=n-a,h=r-s,f=i-a,p=o-s,d=c*c+h*h,m=f*f+p*p;return u*(h*m-d*p)-l*(c*m-d*f)+(u*u+l*l)*(c*p-h*f)<0}function pn(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,l=o-e,c=a*a+s*s,h=u*u+l*l,f=.5/(a*l-s*u),p=(l*c-s*h)*f,d=(a*h-u*c)*f;return p*p+d*d}function dn(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;mn(t,n+r>>1,i),e[t[n]]>e[t[r]]&&mn(t,n,r),e[t[i]]>e[t[r]]&&mn(t,i,r),e[t[n]]>e[t[i]]&&mn(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;mn(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(dn(t,e,i,r),dn(t,e,n,o-1)):(dn(t,e,n,o-1),dn(t,e,i,r))}}function mn(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gn(t){return t[0]}function vn(t){return t[1]}const yn=1e-6;class _n{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>yn||Math.abs(this._y1-i)>yn)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class wn{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class bn{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,s,u=0,l=0,c=n.length;u<c;u+=3,l+=2){const c=2*n[u],h=2*n[u+1],f=2*n[u+2],p=t[c],d=t[c+1],m=t[h],g=t[h+1],v=t[f],y=t[f+1],_=m-p,w=g-d,b=v-p,x=y-d,$=2*(_*x-w*b);if(Math.abs($)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-p)*x-(o-d)*b);r=(p+v)/2-n*x,s=(d+y)/2+n*b}else{const t=1/$,e=_*_+w*w,n=b*b+x*x;r=p+(x*e-w*n)*t,s=d+(_*n-b*e)*t}a[l]=r,a[l+1]=s}let s,u,l,c=e[e.length-1],h=4*c,f=t[2*c],p=t[2*c+1];r.fill(0);for(let n=0;n<e.length;++n)c=e[n],s=h,u=f,l=p,h=4*c,f=t[2*c],p=t[2*c+1],r[s+2]=r[h]=l-p,r[s+3]=r[h+1]=f-u}render(t){const e=null==t?t=new _n:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],u=o[i+1],l=o[a],c=o[a+1];this._renderSegment(s,u,l,c,t)}let s,u=i[i.length-1];for(let e=0;e<i.length;++e){s=u,u=i[e];const n=2*Math.floor(r[u]/3),l=o[n],c=o[n+1],h=4*s,f=this._project(l,c,a[h+2],a[h+3]);f&&this._renderSegment(l,c,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new _n:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new _n:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new wn;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+a-2)%a]&&e[(r+3)%i]===t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,u=e[n-2],l=e[n-1],c=this._regioncode(u,l),h=0;for(let f=0;f<n;f+=2)if(r=u,i=l,u=e[f],l=e[f+1],o=c,c=this._regioncode(u,l),0===o&&0===c)a=h,h=0,s?s.push(u,l):s=[u,l];else{let e,n,f,p,d;if(0===o){if(null===(e=this._clipSegment(r,i,u,l,o,c)))continue;[n,f,p,d]=e}else{if(null===(e=this._clipSegment(u,l,r,i,c,o)))continue;[p,d,n,f]=e,a=h,h=this._edgecode(n,f),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(n,f):s=[n,f]}a=h,h=this._edgecode(p,d),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(p,d):s=[p,d]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){const a=i<o;for(a&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let s,u,l=i||o;8&l?(s=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&l?(s=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&l?(u=e+(r-e)*(this.xmax-t)/(n-t),s=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),s=this.xmin),i?(t=s,e=u,i=this._regioncode(t,e)):(n=s,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const xn=2*Math.PI,$n=Math.pow;function kn(t){return t[0]}function Mn(t){return t[1]}function An(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class En{static from(t,e=kn,n=Mn,r){return new En("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new cn(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=An(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new cn(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new bn(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let u=s,l=-1;do{if(yield l=o[u],u=u%3==2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==l&&(yield e))}}while(u!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let l=t,c=$n(e-u[2*t],2)+$n(n-u[2*t+1],2);const h=r[t];let f=h;do{let r=s[f];const h=$n(e-u[2*r],2)+$n(n-u[2*r+1],2);if(h<c&&(c=h,l=r),f=f%3==2?f-2:f+1,s[f]!==t)break;if(f=a[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&$n(e-u[2*f],2)+$n(n-u[2*f+1],2)<c)return f;break}}while(f!==h);return l}render(t){const e=null==t?t=new _n:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new _n:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,xn)}return n&&n.value()}renderHull(t){const e=null==t?t=new _n:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new wn;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new _n:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new wn;return this.renderTriangle(t,e),e.value()}}function Nn(){}function On(t){return null==t?Nn:function(){return this.querySelector(t)}}function Sn(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Tn(){return[]}function Cn(t){return null==t?Tn:function(){return this.querySelectorAll(t)}}function zn(t){return function(){return this.matches(t)}}function jn(t){return function(e){return e.matches(t)}}var Pn=Array.prototype.find;function Ln(){return this.firstElementChild}var qn=Array.prototype.filter;function Dn(){return Array.from(this.children)}function In(t){return new Array(t.length)}function Hn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Fn(t){return function(){return t}}function Vn(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Hn(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Bn(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new Hn(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function Rn(t){return t.__data__}function Wn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Un(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Hn.prototype={constructor:Hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Xn="http://www.w3.org/1999/xhtml";const Yn={svg:"http://www.w3.org/2000/svg",xhtml:Xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Yn.hasOwnProperty(e)?{space:Yn[e],local:t}:t}function Gn(t){return function(){this.removeAttribute(t)}}function Qn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jn(t,e){return function(){this.setAttribute(t,e)}}function Zn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function er(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rr(t){return function(){this.style.removeProperty(t)}}function ir(t,e,n){return function(){this.style.setProperty(t,e,n)}}function or(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ar(t,e){return t.style.getPropertyValue(e)||nr(t).getComputedStyle(t,null).getPropertyValue(e)}function sr(t){return function(){delete this[t]}}function ur(t,e){return function(){this[t]=e}}function lr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function cr(t){return t.trim().split(/^|\s+/)}function hr(t){return t.classList||new fr(t)}function fr(t){this._node=t,this._names=cr(t.getAttribute("class")||"")}function pr(t,e){for(var n=hr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function dr(t,e){for(var n=hr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mr(t){return function(){pr(this,t)}}function gr(t){return function(){dr(this,t)}}function vr(t,e){return function(){(e.apply(this,arguments)?pr:dr)(this,t)}}function yr(){this.textContent=""}function _r(t){return function(){this.textContent=t}}function wr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function br(){this.innerHTML=""}function xr(t){return function(){this.innerHTML=t}}function $r(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function kr(){this.nextSibling&&this.parentNode.appendChild(this)}function Mr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ar(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xn&&e.documentElement.namespaceURI===Xn?e.createElement(t):e.createElementNS(n,t)}}function Er(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Nr(t){var e=Kn(t);return(e.local?Er:Ar)(e)}function Or(){return null}function Sr(){var t=this.parentNode;t&&t.removeChild(this)}function Tr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function jr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Pr(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Lr(t,e,n){var r=nr(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qr(t,e){return function(){return Lr(this,t,e)}}function Dr(t,e){return function(){return Lr(this,t,e.apply(this,arguments))}}fr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ir=[null];function Hr(t,e){this._groups=t,this._parents=e}function Fr(){return new Hr([[document.documentElement]],Ir)}Hr.prototype=Fr.prototype={constructor:Hr,select:function(t){"function"!=typeof t&&(t=On(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Hr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Sn(t.apply(this,arguments))}}(t):Cn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Hr(r,i)},selectChild:function(t){return this.select(null==t?Ln:function(t){return function(){return Pn.call(this.children,t)}}("function"==typeof t?t:jn(t)))},selectChildren:function(t){return this.selectAll(null==t?Dn:function(t){return function(){return qn.call(this.children,t)}}("function"==typeof t?t:jn(t)))},filter:function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Hr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Rn);var n=e?Bn:Vn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Fn(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=Wn(t.call(c,c&&c.__data__,l,r)),d=p.length,m=s[l]=new Array(d),g=a[l]=new Array(d),v=u[l]=new Array(f);n(c,h,m,g,v,p,e);for(var y,_,w=0,b=0;w<d;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(_=g[b])&&++b<d;);y._next=_||null}}return(a=new Hr(a,r))._enter=s,a._exit=u,a},enter:function(){return new Hr(this._enter||this._groups.map(In),this._parents)},exit:function(){return new Hr(this._exit||this._groups.map(In),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=n[u];return new Hr(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Un);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Hr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Kn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Qn:Gn:"function"==typeof e?n.local?er:tr:n.local?Zn:Jn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?rr:"function"==typeof e?or:ir)(t,e,null==n?"":n)):ar(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?sr:"function"==typeof e?lr:ur)(t,e)):this.node()[t]},classed:function(t,e){var n=cr(t+"");if(arguments.length<2){for(var r=hr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?vr:e?mr:gr)(n,e))},text:function(t){return arguments.length?this.each(null==t?yr:("function"==typeof t?wr:_r)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?br:("function"==typeof t?$r:xr)(t)):this.node().innerHTML},raise:function(){return this.each(kr)},lower:function(){return this.each(Mr)},append:function(t){var e="function"==typeof t?t:Nr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Nr(t),r=null==e?Or:"function"==typeof e?e:On(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Sr)},clone:function(t){return this.select(t?Cr:Tr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=zr(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Pr:jr,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Dr:qr)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Vr=Fr;function Br(t){return"string"==typeof t?new Hr([[document.querySelector(t)]],[document.documentElement]):new Hr([[t]],Ir)}var Rr={value:()=>{}};function Wr(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ur(r)}function Ur(t){this._=t}function Xr(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Yr(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Kr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ur.prototype=Wr.prototype={constructor:Ur,on:function(t,e){var n,r=this._,i=Xr(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Kr(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Kr(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Yr(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ur(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Gr=Wr;function Qr(){}function Jr(t){return null==t?Qr:function(){return this.querySelector(t)}}function Zr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ti(){return[]}function ei(t){return function(e){return e.matches(t)}}var ni=Array.prototype.find;function ri(){return this.firstElementChild}var ii=Array.prototype.filter;function oi(){return this.children}function ai(t){return new Array(t.length)}function si(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ui(t){return function(){return t}}function li(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new si(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function ci(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new si(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function hi(t){return t.__data__}function fi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}si.prototype={constructor:si,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var pi="http://www.w3.org/1999/xhtml";const di={svg:"http://www.w3.org/2000/svg",xhtml:pi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),di.hasOwnProperty(e)?{space:di[e],local:t}:t}function gi(t){return function(){this.removeAttribute(t)}}function vi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yi(t,e){return function(){this.setAttribute(t,e)}}function _i(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bi(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $i(t){return function(){this.style.removeProperty(t)}}function ki(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mi(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ai(t,e){return t.style.getPropertyValue(e)||xi(t).getComputedStyle(t,null).getPropertyValue(e)}function Ei(t){return function(){delete this[t]}}function Ni(t,e){return function(){this[t]=e}}function Oi(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Si(t){return t.trim().split(/^|\s+/)}function Ti(t){return t.classList||new Ci(t)}function Ci(t){this._node=t,this._names=Si(t.getAttribute("class")||"")}function zi(t,e){for(var n=Ti(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ji(t,e){for(var n=Ti(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Pi(t){return function(){zi(this,t)}}function Li(t){return function(){ji(this,t)}}function qi(t,e){return function(){(e.apply(this,arguments)?zi:ji)(this,t)}}function Di(){this.textContent=""}function Ii(t){return function(){this.textContent=t}}function Hi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Fi(){this.innerHTML=""}function Vi(t){return function(){this.innerHTML=t}}function Bi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ri(){this.nextSibling&&this.parentNode.appendChild(this)}function Wi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ui(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pi&&e.documentElement.namespaceURI===pi?e.createElement(t):e.createElementNS(n,t)}}function Xi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yi(t){var e=mi(t);return(e.local?Xi:Ui)(e)}function Ki(){return null}function Gi(){var t=this.parentNode;t&&t.removeChild(this)}function Qi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ji(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zi(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function to(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function eo(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function no(t,e,n){var r=xi(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ro(t,e){return function(){return no(this,t,e)}}function io(t,e){return function(){return no(this,t,e.apply(this,arguments))}}Ci.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var oo=[null];function ao(t,e){this._groups=t,this._parents=e}function so(t){return"string"==typeof t?new ao([[document.querySelector(t)]],[document.documentElement]):new ao([[t]],oo)}function uo(t){t.preventDefault(),t.stopImmediatePropagation()}function lo(t){var e=t.document.documentElement,n=so(t).on("dragstart.drag",uo,!0);"onselectstart"in e?n.on("selectstart.drag",uo,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function co(t,e){var n=t.document.documentElement,r=so(t).on("dragstart.drag",null);e&&(r.on("click.drag",uo,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ho(t){return((t=Math.exp(t))+1/t)/2}ao.prototype=function(){return new ao([[document.documentElement]],oo)}.prototype={constructor:ao,select:function(t){"function"!=typeof t&&(t=Jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new ao(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Zr(e)}}(t):function(t){return null==t?ti:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new ao(r,i)},selectChild:function(t){return this.select(null==t?ri:function(t){return function(){return ni.call(this.children,t)}}("function"==typeof t?t:ei(t)))},selectChildren:function(t){return this.selectAll(null==t?oi:function(t){return function(){return ii.call(this.children,t)}}("function"==typeof t?t:ei(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ao(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,hi);var n=e?ci:li,r=this._parents,i=this._groups;"function"!=typeof t&&(t=ui(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=Zr(t.call(c,c&&c.__data__,l,r)),d=p.length,m=s[l]=new Array(d),g=a[l]=new Array(d),v=u[l]=new Array(f);n(c,h,m,g,v,p,e);for(var y,_,w=0,b=0;w<d;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(_=g[b])&&++b<d;);y._next=_||null}}return(a=new ao(a,r))._enter=s,a._exit=u,a},enter:function(){return new ao(this._enter||this._groups.map(ai),this._parents)},exit:function(){return new ao(this._exit||this._groups.map(ai),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof ao))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new ao(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=fi);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new ao(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=mi(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?vi:gi:"function"==typeof e?n.local?bi:wi:n.local?_i:yi)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$i:"function"==typeof e?Mi:ki)(t,e,null==n?"":n)):Ai(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ei:"function"==typeof e?Oi:Ni)(t,e)):this.node()[t]},classed:function(t,e){var n=Si(t+"");if(arguments.length<2){for(var r=Ti(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?qi:e?Pi:Li)(n,e))},text:function(t){return arguments.length?this.each(null==t?Di:("function"==typeof t?Hi:Ii)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Fi:("function"==typeof t?Bi:Vi)(t)):this.node().innerHTML},raise:function(){return this.each(Ri)},lower:function(){return this.each(Wi)},append:function(t){var e="function"==typeof t?t:Yi(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Yi(t),r=null==e?Ki:"function"==typeof e?e:Jr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Gi)},clone:function(t){return this.select(t?Ji:Qi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Zi(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?eo:to,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?io:ro)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const fo=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],l=t[2],c=i[0],h=i[1],f=i[2],p=c-s,d=h-u,m=p*p+d*d;if(m<1e-12)a=Math.log(f/l)/e,o=function(t){return[s+t*p,u+t*d,l*Math.exp(e*t*a)]};else{var g=Math.sqrt(m),v=(f*f-l*l+r*m)/(2*l*n*g),y=(f*f-l*l-r*m)/(2*f*n*g),_=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-_)/e,o=function(t){var r,i=t*a,o=ho(_),c=l/(n*g)*(o*(r=e*i+_,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[s+c*p,u+c*d,l*o/ho(e*i+_)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);function po(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var mo,go,vo=0,yo=0,_o=0,wo=0,bo=0,xo=0,$o="object"==typeof performance&&performance.now?performance:Date,ko="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mo(){return bo||(ko(Ao),bo=$o.now()+xo)}function Ao(){bo=0}function Eo(){this._call=this._time=this._next=null}function No(t,e,n){var r=new Eo;return r.restart(t,e,n),r}function Oo(){bo=(wo=$o.now())+xo,vo=yo=0;try{!function(){Mo(),++vo;for(var t,e=mo;e;)(t=bo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--vo}()}finally{vo=0,function(){for(var t,e,n=mo,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:mo=e);go=t,To(r)}(),bo=0}}function So(){var t=$o.now(),e=t-wo;e>1e3&&(xo-=e,wo=t)}function To(t){vo||(yo&&(yo=clearTimeout(yo)),t-bo>24?(t<1/0&&(yo=setTimeout(Oo,t-$o.now()-xo)),_o&&(_o=clearInterval(_o))):(_o||(wo=$o.now(),_o=setInterval(So,1e3)),vo=1,ko(Oo)))}function Co(t,e,n){var r=new Eo;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Eo.prototype=No.prototype={constructor:Eo,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Mo():+n)+(null==e?0:+e),this._next||go===this||(go?go._next=this:mo=this,go=this),this._call=t,this._time=n,To()},stop:function(){this._call&&(this._call=null,this._time=1/0,To())}};var zo=Gr("start","end","cancel","interrupt"),jo=[];function Po(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return Co(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Co((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=No((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:zo,tween:jo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Lo(t,e){var n=Do(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function qo(t,e){var n=Do(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Do(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Io(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var Ho,Fo=180/Math.PI,Vo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bo(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Fo,skewX:Math.atan(u)*Fo,scaleX:a,scaleY:s}}function Ro(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Qt(t,i)},{i:u-2,x:Qt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Qt(t,n)},{i:s-2,x:Qt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Wo=Ro((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vo:Bo(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Uo=Ro((function(t){return null==t?Vo:(Ho||(Ho=document.createElementNS("http://www.w3.org/2000/svg","g")),Ho.setAttribute("transform",t),(t=Ho.transform.baseVal.consolidate())?Bo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Vo)}),", ",")",")");function Xo(t,e){var n,r;return function(){var i=qo(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Yo(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=qo(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Ko(t,e,n){var r=t._id;return t.each((function(){var t=qo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Do(t,r).value[e]}}function Go(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jo(){}var Zo=.7,ta=1/Zo,ea="\\s*([+-]?\\d+)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ia=/^#([0-9a-f]{3,8})$/,oa=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),aa=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),sa=new RegExp(`^rgba\\(${ea},${ea},${ea},${na}\\)$`),ua=new RegExp(`^rgba\\(${ra},${ra},${ra},${na}\\)$`),la=new RegExp(`^hsl\\(${na},${ra},${ra}\\)$`),ca=new RegExp(`^hsla\\(${na},${ra},${ra},${na}\\)$`),ha={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fa(){return this.rgb().formatHex()}function pa(){return this.rgb().formatRgb()}function da(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ia.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ma(e):3===n?new ya(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ga(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ga(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=oa.exec(t))?new ya(e[1],e[2],e[3],1):(e=aa.exec(t))?new ya(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=sa.exec(t))?ga(e[1],e[2],e[3],e[4]):(e=ua.exec(t))?ga(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=la.exec(t))?ka(e[1],e[2]/100,e[3]/100,1):(e=ca.exec(t))?ka(e[1],e[2]/100,e[3]/100,e[4]):ha.hasOwnProperty(t)?ma(ha[t]):"transparent"===t?new ya(NaN,NaN,NaN,0):null}function ma(t){return new ya(t>>16&255,t>>8&255,255&t,1)}function ga(t,e,n,r){return r<=0&&(t=e=n=NaN),new ya(t,e,n,r)}function va(t){return t instanceof Jo||(t=da(t)),t?new ya((t=t.rgb()).r,t.g,t.b,t.opacity):new ya}function ya(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function _a(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}`}function wa(){const t=ba(this.opacity);return`${1===t?"rgb(":"rgba("}${xa(this.r)}, ${xa(this.g)}, ${xa(this.b)}${1===t?")":`, ${t})`}`}function ba(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $a(t){return((t=xa(t))<16?"0":"")+t.toString(16)}function ka(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Aa(t,e,n,r)}function Ma(t){if(t instanceof Aa)return new Aa(t.h,t.s,t.l,t.opacity);if(t instanceof Jo||(t=da(t)),!t)return new Aa;if(t instanceof Aa)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Aa(a,s,u,t.opacity)}function Aa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ea(t){return(t=(t||0)%360)<0?t+360:t}function Na(t){return Math.max(0,Math.min(1,t||0))}function Oa(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Sa(t,e){var n;return("number"==typeof e?Qt:e instanceof da?Xt:(n=da(e))?(e=n,Xt):ee)(t,e)}function Ta(t){return function(){this.removeAttribute(t)}}function Ca(t){return function(){this.removeAttributeNS(t.space,t.local)}}function za(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function ja(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Pa(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function La(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function qa(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Da(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ia(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Da(t,i)),n}return i._value=e,i}function Ha(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&qa(t,i)),n}return i._value=e,i}function Fa(t,e){return function(){Lo(this,t).delay=+e.apply(this,arguments)}}function Va(t,e){return e=+e,function(){Lo(this,t).delay=e}}function Ba(t,e){return function(){qo(this,t).duration=+e.apply(this,arguments)}}function Ra(t,e){return e=+e,function(){qo(this,t).duration=e}}function Wa(t,e){if("function"!=typeof e)throw new Error;return function(){qo(this,t).ease=e}}function Ua(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Lo:qo;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}Go(Jo,da,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fa,formatHex:fa,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ma(this).formatHsl()},formatRgb:pa,toString:pa}),Go(ya,(function(t,e,n,r){return 1===arguments.length?va(t):new ya(t,e,n,null==r?1:r)}),Qo(Jo,{brighter(t){return t=null==t?ta:Math.pow(ta,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Zo:Math.pow(Zo,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya(xa(this.r),xa(this.g),xa(this.b),ba(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_a,formatHex:_a,formatHex8:function(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}${$a(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wa,toString:wa})),Go(Aa,(function(t,e,n,r){return 1===arguments.length?Ma(t):new Aa(t,e,n,null==r?1:r)}),Qo(Jo,{brighter(t){return t=null==t?ta:Math.pow(ta,t),new Aa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Zo:Math.pow(Zo,t),new Aa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ya(Oa(t>=240?t-240:t+120,i,r),Oa(t,i,r),Oa(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Aa(Ea(this.h),Na(this.s),Na(this.l),ba(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ba(this.opacity);return`${1===t?"hsl(":"hsla("}${Ea(this.h)}, ${100*Na(this.s)}%, ${100*Na(this.l)}%${1===t?")":`, ${t})`}`}}));var Xa=Vr.prototype.constructor;function Ya(t){return function(){this.style.removeProperty(t)}}function Ka(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ga(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Ka(t,o,n)),r}return o._value=e,o}function Qa(t){return function(e){this.textContent=t.call(this,e)}}function Ja(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Qa(r)),e}return r._value=t,r}var Za=0;function ts(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function es(){return++Za}var ns=Vr.prototype;ts.prototype=function(t){return Vr().transition(t)}.prototype={constructor:ts,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=On(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Po(h[f],e,n,f,h,Do(s,n)));return new ts(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=Do(u,n),m=0,g=p.length;m<g;++m)(f=p[m])&&Po(f,e,n,m,p,d);o.push(p),a.push(u)}return new ts(o,a,e,n)},selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:function(t){"function"!=typeof t&&(t=zn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ts(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new ts(a,this._parents,this._name,this._id)},selection:function(){return new Xa(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=es(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Do(a,e);Po(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ts(r,this._parents,t,n)},call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:function(t,e){var n=this._id;return arguments.length<2?Do(this.node(),n).on.on(t):this.each(Ua(n,t,e))},attr:function(t,e){var n=Kn(t),r="transform"===n?Uo:Sa;return this.attrTween(t,"function"==typeof e?(n.local?La:Pa)(n,r,Ko(this,"attr."+t,e)):null==e?(n.local?Ca:Ta)(n):(n.local?ja:za)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Kn(t);return this.tween(n,(r.local?Ia:Ha)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Wo:Sa;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ar(this,t),a=(this.style.removeProperty(t),ar(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ya(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=ar(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ar(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Ko(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=qo(this,t),l=u.on,c=null==u.value[a]?o||(o=Ya(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=ar(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ga(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ko(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ja(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Do(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Xo:Yo)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Fa:Va)(e,t)):Do(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ba:Ra)(e,t)):Do(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Wa(e,t)):Do(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;qo(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=qo(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ns[Symbol.iterator]};var rs={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function is(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Vr.prototype.interrupt=function(t){return this.each((function(){Io(this,t)}))},Vr.prototype.transition=function(t){var e,n;t instanceof ts?(e=t._id,t=t._name):(e=es(),(n=rs).time=Mo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Po(a,t,e,l,s,n||is(a,e));return new ts(r,this._parents,t,e)};const os=t=>()=>t;function as(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ss(t,e,n){this.k=t,this.x=e,this.y=n}ss.prototype={constructor:ss,scale:function(t){return 1===t?this:new ss(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ss(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var us=new ss(1,0,0);function ls(t){t.stopImmediatePropagation()}function cs(t){t.preventDefault(),t.stopImmediatePropagation()}function hs(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function fs(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ps(){return this.__zoom||us}function ds(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ms(){return navigator.maxTouchPoints||"ontouchstart"in this}function gs(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function vs(){var t,e,n,r=hs,i=fs,o=gs,a=ds,s=ms,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=fo,f=Gr("start","zoom","end"),p=500,d=0,m=10;function g(t){t.property("__zoom",ps).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new ss(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new ss(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=b(t,o).event(r),s=i.apply(t,o),u=null==n?_(s):"function"==typeof n?n.apply(t,o):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,p=h(c.invert(u).concat(l/c.k),f.invert(u).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=l/e[2];t=new ss(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function $(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=po(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],Io(this),n.start()}cs(t),n.wheel=setTimeout(h,150),n.zoom("mouse",o(y(v(i,s),n.mouse[0],n.mouse[1]),n.extent,l))}function h(){n.wheel=null,n.end()}}function k(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=b(this,e,!0).event(t),s=Br(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),u=po(t,i),c=t.clientX,h=t.clientY;lo(t.view),ls(t),a.mouse=[u,this.__zoom.invert(u)],Io(this),a.start()}function f(t){if(cs(t),!a.moved){var e=t.clientX-c,n=t.clientY-h;a.moved=e*e+n*n>d}a.event(t).zoom("mouse",o(y(a.that.__zoom,a.mouse[0]=po(t,i),a.mouse[1]),a.extent,l))}function p(t){s.on("mousemove.zoom mouseup.zoom",null),co(t.view,a.moved),cs(t),a.event(t).end()}}function M(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=po(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),h=o(y(v(n,u),a,s),i.apply(this,e),l);cs(t),c>0?Br(this).transition().duration(c).call(w,h,a,t):Br(this).call(g.transform,h,a,t)}}function A(n,...i){if(r.apply(this,arguments)){var o,a,s,u,l=n.touches,c=l.length,h=b(this,i,n.changedTouches.length===c).event(n);for(ls(n),a=0;a<c;++a)u=[u=po(s=l[a],this),this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),p)),Io(this),h.start())}}function E(t,...e){if(this.__zooming){var n,r,i,a,s=b(this,e).event(t),u=t.changedTouches,c=u.length;for(cs(t),n=0;n<c;++n)i=po(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],p=s.touch1[0],d=s.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;r=v(r,Math.sqrt(m/g)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(y(r,i,a),s.extent,l))}}function N(t,...r){if(this.__zooming){var i,o,a=b(this,r).event(t),s=t.changedTouches,u=s.length;for(ls(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=po(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<m)){var l=Br(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",ps),t!==i?w(t,e,n,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?_(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return o(y(v(r,u),a,s),t,l)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?_(t):"function"==typeof r?r.apply(this,arguments):r;return o(us.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),r,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Br(this.that).datum();f.call(t,this.that,new as(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:f}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:os(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:os(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:os(!!t),g):s},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:os([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],g):[u[0],u[1]]},g.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g}ss.prototype;var ys=n(573),_s=n.n(ys);function ws(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function bs(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function xs(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function $s(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Ms)):void 0===e&&(e=ks);for(var n,r,i,o,a,s=new Ns(t),u=[s];n=u.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new Ns(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Es)}function ks(t){return t.children}function Ms(t){return Array.isArray(t)?t[1]:null}function As(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Es(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ns(t){this.data=t,this.depth=this.height=0,this.parent=null}function Os(t,e){return t.parent===e.parent?1:2}function Ss(t){var e=t.children;return e?e[0]:t.t}function Ts(t){var e=t.children;return e?e[e.length-1]:t.t}function Cs(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function zs(t,e,n){return t.a.parent===e.parent?t.a:n}function js(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Ps(t){var e,n,r;const i={index:t.index,all_children_count:t.all_children_count,name:t.name,index_call:NaN,index_return:NaN,frame_id:t.frame_id},o=t.children.map(Ps).flat().filter(Boolean);if("frame_span"===t.type){const{call_frame:e,return_frame:n}=t.data,r=e.timestamp,a=n.timestamp,s=a-r;return[Object.assign(Object.assign({},i),{data:t.data,type:"frame_span",timing:{start:r,end:a,total:s},children:o})]}if("nested_background_job"===t.type){const r=t,a=null!==(e=r.data.call_timestamp)&&void 0!==e?e:NaN,s=null!==(n=r.data.return_timestamp)&&void 0!==n?n:NaN,u=s-a;return[Object.assign(Object.assign({},i),{type:"nested_background_job",data:r.data,children:o,timing:{start:a,end:s,total:u}})]}if("sql_query"===t.type){const e=t,{call_timestamp:n,return_timestamp:r}=e.data,o=r-n;return[Object.assign(Object.assign(Object.assign({},i),e),{timing:{start:n,end:r,total:o},children:[]})]}if("outbound_http_request"===t.type){const e=t,{request:n,response:o}=e.data,a=n.timestamp;if("number"!=typeof a)throw new Error("Expected requestTimestamp to be number but got"+a);let s=null!==(r=null==o?void 0:o.timestamp)&&void 0!==r?r:NaN;if("number"!=typeof s)throw new Error("Expected responseTimestamp to be number but got"+s);const u=s-a;return[Object.assign(Object.assign({},i),{type:"outbound_http_request",data:e.data,all_children_count:0,children:[],timing:{start:a,end:s,total:u}})]}if("django_template"===t.type){const e=t,n=e.data.call_timestamp,r=e.data.return_timestamp,a=r-n;return[Object.assign(Object.assign({},i),{children:o,type:"django_template",data:e.data,timing:{start:n,end:r,total:a}})]}return 0===t.children.length?void 0:t.children.map(Ps).flat().filter(Boolean)}function Ls({executionTreeNodes:t}){var e,n;const r=t.map(Ps).flat().filter(Boolean),i=null!==(e=ws(r,(t=>t.timing.start)))&&void 0!==e?e:0,o=null!==(n=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(r,(t=>t.timing.end)))&&void 0!==n?n:0,a={type:"root",all_children_count:bs(t.map((t=>t.all_children_count))),children:r,index_call:NaN,index_return:NaN,timing:{start:i,end:o,total:o-i},frame_id:"frm_artificial_root_node"},[s]=qs(a);return s}function qs(t,e=0){var n;const r=Object.assign({},t);let i=e;return r.index_call=i++,["sqlQuery","outbound_http_request"].includes(t.type)||(r.children=null===(n=t.children)||void 0===n?void 0:n.map((t=>{const[e,n]=qs(t,i);return i=n,e}))),r.index_return=i++,[r,i]}function Ds(t){return $s(t,(t=>t.children))}function Is(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Hs(t){return t instanceof Is(t).Element||t instanceof Element}function Fs(t){return t instanceof Is(t).HTMLElement||t instanceof HTMLElement}function Vs(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Is(t).ShadowRoot||t instanceof ShadowRoot)}Ns.prototype=$s.prototype={constructor:Ns,count:function(){return this.eachAfter(xs)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],u=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return $s(this).eachBefore(As)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}},js.prototype=Object.create(Ns.prototype);var Bs=Math.max,Rs=Math.min,Ws=Math.round;function Us(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Xs(){return!/^((?!chrome|android).)*safari/i.test(Us())}function Ys(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Fs(t)&&(i=t.offsetWidth>0&&Ws(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ws(r.height)/t.offsetHeight||1);var a=(Hs(t)?Is(t):window).visualViewport,s=!Xs()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,c=r.width/i,h=r.height/o;return{width:c,height:h,top:l,right:u+c,bottom:l+h,left:u,x:u,y:l}}function Ks(t){var e=Is(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Gs(t){return t?(t.nodeName||"").toLowerCase():null}function Qs(t){return((Hs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Js(t){return Ys(Qs(t)).left+Ks(t).scrollLeft}function Zs(t){return Is(t).getComputedStyle(t)}function tu(t){var e=Zs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function eu(t,e,n){void 0===n&&(n=!1);var r,i,o=Fs(e),a=Fs(e)&&function(t){var e=t.getBoundingClientRect(),n=Ws(e.width)/t.offsetWidth||1,r=Ws(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=Qs(e),u=Ys(t,a,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==Gs(e)||tu(s))&&(l=(r=e)!==Is(r)&&Fs(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Ks(r)),Fs(e)?((c=Ys(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Js(s))),{x:u.left+l.scrollLeft-c.x,y:u.top+l.scrollTop-c.y,width:u.width,height:u.height}}function nu(t){var e=Ys(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function ru(t){return"html"===Gs(t)?t:t.assignedSlot||t.parentNode||(Vs(t)?t.host:null)||Qs(t)}function iu(t){return["html","body","#document"].indexOf(Gs(t))>=0?t.ownerDocument.body:Fs(t)&&tu(t)?t:iu(ru(t))}function ou(t,e){var n;void 0===e&&(e=[]);var r=iu(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=Is(r),a=i?[o].concat(o.visualViewport||[],tu(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(ou(ru(a)))}function au(t){return["table","td","th"].indexOf(Gs(t))>=0}function su(t){return Fs(t)&&"fixed"!==Zs(t).position?t.offsetParent:null}function uu(t){for(var e=Is(t),n=su(t);n&&au(n)&&"static"===Zs(n).position;)n=su(n);return n&&("html"===Gs(n)||"body"===Gs(n)&&"static"===Zs(n).position)?e:n||function(t){var e=/firefox/i.test(Us());if(/Trident/i.test(Us())&&Fs(t)&&"fixed"===Zs(t).position)return null;var n=ru(t);for(Vs(n)&&(n=n.host);Fs(n)&&["html","body"].indexOf(Gs(n))<0;){var r=Zs(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var lu="top",cu="bottom",hu="right",fu="left",pu="auto",du=[lu,cu,hu,fu],mu="start",gu="end",vu="viewport",yu="popper",_u=du.reduce((function(t,e){return t.concat([e+"-"+mu,e+"-"+gu])}),[]),wu=[].concat(du,[pu]).reduce((function(t,e){return t.concat([e,e+"-"+mu,e+"-"+gu])}),[]),bu=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xu(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var $u={placement:"bottom",modifiers:[],strategy:"absolute"};function ku(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Mu(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?$u:i;return function(t,e,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},$u,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],l=!1,c={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Hs(t)?ou(t):t.contextElement?ou(t.contextElement):[],popper:ou(e)};var a,l,f=function(t){var e=xu(t);return bu.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),l=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(l).map((function(t){return l[t]}))));return s.orderedModifiers=f.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:s,name:e,instance:c,options:r});u.push(o||function(){})}})),c.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,n=t.popper;if(ku(e,n)){s.rects={reference:eu(e,uu(n),"fixed"===s.options.strategy),popper:nu(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,u=void 0===a?{}:a,h=i.name;"function"==typeof o&&(s=o({state:s,options:u,name:h,instance:c})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){c.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){h(),l=!0}};if(!ku(t,e))return c;function h(){u.forEach((function(t){return t()})),u=[]}return c.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),c}}var Au={passive:!0};const Eu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=Is(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach((function(t){t.addEventListener("scroll",n.update,Au)})),s&&u.addEventListener("resize",n.update,Au),function(){o&&l.forEach((function(t){t.removeEventListener("scroll",n.update,Au)})),s&&u.removeEventListener("resize",n.update,Au)}},data:{}};function Nu(t){return t.split("-")[0]}function Ou(t){return t.split("-")[1]}function Su(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Tu(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?Nu(i):null,a=i?Ou(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case lu:e={x:s,y:n.y-r.height};break;case cu:e={x:s,y:n.y+n.height};break;case hu:e={x:n.x+n.width,y:u};break;case fu:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var l=o?Su(o):null;if(null!=l){var c="y"===l?"height":"width";switch(a){case mu:e[l]=e[l]-(n[c]/2-r[c]/2);break;case gu:e[l]=e[l]+(n[c]/2-r[c]/2)}}return e}var Cu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zu(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=a.x,p=void 0===f?0:f,d=a.y,m=void 0===d?0:d,g="function"==typeof c?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),_=fu,w=lu,b=window;if(l){var x=uu(n),$="clientHeight",k="clientWidth";x===Is(n)&&"static"!==Zs(x=Qs(n)).position&&"absolute"===s&&($="scrollHeight",k="scrollWidth"),(i===lu||(i===fu||i===hu)&&o===gu)&&(w=cu,m-=(h&&x===b&&b.visualViewport?b.visualViewport.height:x[$])-r.height,m*=u?1:-1),i!==fu&&(i!==lu&&i!==cu||o!==gu)||(_=hu,p-=(h&&x===b&&b.visualViewport?b.visualViewport.width:x[k])-r.width,p*=u?1:-1)}var M,A=Object.assign({position:s},l&&Cu),E=!0===c?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:Ws(e*r)/r||0,y:Ws(n*r)/r||0}}({x:p,y:m}):{x:p,y:m};return p=E.x,m=E.y,u?Object.assign({},A,((M={})[w]=y?"0":"",M[_]=v?"0":"",M.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",M)):Object.assign({},A,((e={})[w]=y?m+"px":"",e[_]=v?p+"px":"",e.transform="",e))}const ju={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];Fs(i)&&Gs(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});Fs(r)&&Gs(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};var Pu={left:"right",right:"left",bottom:"top",top:"bottom"};function Lu(t){return t.replace(/left|right|bottom|top/g,(function(t){return Pu[t]}))}var qu={start:"end",end:"start"};function Du(t){return t.replace(/start|end/g,(function(t){return qu[t]}))}function Iu(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Vs(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Hu(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Fu(t,e,n){return e===vu?Hu(function(t,e){var n=Is(t),r=Qs(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=Xs();(l||!l&&"fixed"===e)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+Js(t),y:u}}(t,n)):Hs(e)?function(t,e){var n=Ys(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):Hu(function(t){var e,n=Qs(t),r=Ks(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=Bs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Bs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Js(t),u=-r.scrollTop;return"rtl"===Zs(i||n).direction&&(s+=Bs(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(Qs(t)))}function Vu(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Bu(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function Ru(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.strategy,a=void 0===o?t.strategy:o,s=n.boundary,u=void 0===s?"clippingParents":s,l=n.rootBoundary,c=void 0===l?vu:l,h=n.elementContext,f=void 0===h?yu:h,p=n.altBoundary,d=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Vu("number"!=typeof g?g:Bu(g,du)),y=f===yu?"reference":yu,_=t.rects.popper,w=t.elements[d?y:f],b=function(t,e,n,r){var i="clippingParents"===e?function(t){var e=ou(ru(t)),n=["absolute","fixed"].indexOf(Zs(t).position)>=0&&Fs(t)?uu(t):t;return Hs(n)?e.filter((function(t){return Hs(t)&&Iu(t,n)&&"body"!==Gs(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(e,n){var i=Fu(t,n,r);return e.top=Bs(i.top,e.top),e.right=Rs(i.right,e.right),e.bottom=Rs(i.bottom,e.bottom),e.left=Bs(i.left,e.left),e}),Fu(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(Hs(w)?w:w.contextElement||Qs(t.elements.popper),u,c,a),x=Ys(t.elements.reference),$=Tu({reference:x,element:_,strategy:"absolute",placement:i}),k=Hu(Object.assign({},_,$)),M=f===yu?k:x,A={top:b.top-M.top+v.top,bottom:M.bottom-b.bottom+v.bottom,left:b.left-M.left+v.left,right:M.right-b.right+v.right},E=t.modifiersData.offset;if(f===yu&&E){var N=E[i];Object.keys(A).forEach((function(t){var e=[hu,cu].indexOf(t)>=0?1:-1,n=[lu,cu].indexOf(t)>=0?"y":"x";A[t]+=N[n]*e}))}return A}function Wu(t,e,n){return Bs(t,Rs(e,n))}const Uu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,h=n.padding,f=n.tether,p=void 0===f||f,d=n.tetherOffset,m=void 0===d?0:d,g=Ru(e,{boundary:u,rootBoundary:l,padding:h,altBoundary:c}),v=Nu(e.placement),y=Ou(e.placement),_=!y,w=Su(v),b="x"===w?"y":"x",x=e.modifiersData.popperOffsets,$=e.rects.reference,k=e.rects.popper,M="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,A="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),E=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(x){if(o){var O,S="y"===w?lu:fu,T="y"===w?cu:hu,C="y"===w?"height":"width",z=x[w],j=z+g[S],P=z-g[T],L=p?-k[C]/2:0,q=y===mu?$[C]:k[C],D=y===mu?-k[C]:-$[C],I=e.elements.arrow,H=p&&I?nu(I):{width:0,height:0},F=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=F[S],B=F[T],R=Wu(0,$[C],H[C]),W=_?$[C]/2-L-R-V-A.mainAxis:q-R-V-A.mainAxis,U=_?-$[C]/2+L+R+B+A.mainAxis:D+R+B+A.mainAxis,X=e.elements.arrow&&uu(e.elements.arrow),Y=X?"y"===w?X.clientTop||0:X.clientLeft||0:0,K=null!=(O=null==E?void 0:E[w])?O:0,G=z+U-K,Q=Wu(p?Rs(j,z+W-K-Y):j,z,p?Bs(P,G):P);x[w]=Q,N[w]=Q-z}if(s){var J,Z="x"===w?lu:fu,tt="x"===w?cu:hu,et=x[b],nt="y"===b?"height":"width",rt=et+g[Z],it=et-g[tt],ot=-1!==[lu,fu].indexOf(v),at=null!=(J=null==E?void 0:E[b])?J:0,st=ot?rt:et-$[nt]-k[nt]-at+A.altAxis,ut=ot?et+$[nt]+k[nt]-at-A.altAxis:it,lt=p&&ot?function(t,e,n){var r=Wu(t,e,n);return r>n?n:r}(st,et,ut):Wu(p?st:rt,et,p?ut:it);x[b]=lt,N[b]=lt-et}e.modifiersData[r]=N}},requiresIfExists:["offset"]},Xu={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Nu(n.placement),u=Su(s),l=[fu,hu].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(t,e){return Vu("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Bu(t,du))}(i.padding,n),h=nu(o),f="y"===u?lu:fu,p="y"===u?cu:hu,d=n.rects.reference[l]+n.rects.reference[u]-a[u]-n.rects.popper[l],m=a[u]-n.rects.reference[u],g=uu(o),v=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,y=d/2-m/2,_=c[f],w=v-h[l]-c[p],b=v/2-h[l]/2+y,x=Wu(_,b,w),$=u;n.modifiersData[r]=((e={})[$]=x,e.centerOffset=x-b,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&Iu(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yu(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ku(t){return[lu,hu,cu,fu].some((function(e){return t[e]>=0}))}var Gu=Mu({defaultModifiers:[Eu,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Tu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,l={placement:Nu(e.placement),variation:Ou(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,zu(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,zu(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ju,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=wu.reduce((function(t,n){return t[n]=function(t,e,n){var r=Nu(t),i=[fu,lu].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[fu,hu].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,o),t}),{}),s=a[e.placement],u=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,d=void 0===p||p,m=n.allowedAutoPlacements,g=e.options.placement,v=Nu(g),y=u||(v!==g&&d?function(t){if(Nu(t)===pu)return[];var e=Lu(t);return[Du(t),e,Du(e)]}(g):[Lu(g)]),_=[g].concat(y).reduce((function(t,n){return t.concat(Nu(n)===pu?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?wu:u,c=Ou(r),h=c?s?_u:_u.filter((function(t){return Ou(t)===c})):du,f=h.filter((function(t){return l.indexOf(t)>=0}));0===f.length&&(f=h);var p=f.reduce((function(e,n){return e[n]=Ru(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[Nu(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:n,boundary:c,rootBoundary:h,padding:l,flipVariations:d,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,b=e.rects.popper,x=new Map,$=!0,k=_[0],M=0;M<_.length;M++){var A=_[M],E=Nu(A),N=Ou(A)===mu,O=[lu,cu].indexOf(E)>=0,S=O?"width":"height",T=Ru(e,{placement:A,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),C=O?N?hu:fu:N?cu:lu;w[S]>b[S]&&(C=Lu(C));var z=Lu(C),j=[];if(o&&j.push(T[E]<=0),s&&j.push(T[C]<=0,T[z]<=0),j.every((function(t){return t}))){k=A,$=!1;break}x.set(A,j)}if($)for(var P=function(t){var e=_.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return k=e,"break"},L=d?3:1;L>0&&"break"!==P(L);L--);e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Uu,Xu,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Ru(e,{elementContext:"reference"}),s=Ru(e,{altBoundary:!0}),u=Yu(a,r),l=Yu(s,i,o),c=Ku(u),h=Ku(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]}),Qu="tippy-content",Ju="tippy-arrow",Zu="tippy-svg-arrow",tl={passive:!0,capture:!0},el=function(){return document.body};function nl(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function rl(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function il(t,e){return"function"==typeof t?t.apply(void 0,e):t}function ol(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function al(t){return[].concat(t)}function sl(t,e){-1===t.indexOf(e)&&t.push(e)}function ul(t){return[].slice.call(t)}function ll(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function cl(){return document.createElement("div")}function hl(t){return["Element","Fragment"].some((function(e){return rl(t,e)}))}function fl(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function pl(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function dl(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function ml(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var gl={isTouch:!1},vl=0;function yl(){gl.isTouch||(gl.isTouch=!0,window.performance&&document.addEventListener("mousemove",_l))}function _l(){var t=performance.now();t-vl<20&&(gl.isTouch=!1,document.removeEventListener("mousemove",_l)),vl=t}function wl(){var t=document.activeElement;if(function(t){return!(!t||!t._tippy||t._tippy.reference!==t)}(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var bl=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),xl=Object.assign({appendTo:el,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),$l=Object.keys(xl);function kl(t){var e=(t.plugins||[]).reduce((function(e,n){var r,i=n.name,o=n.defaultValue;return i&&(e[i]=void 0!==t[i]?t[i]:null!=(r=xl[i])?r:o),e}),{});return Object.assign({},t,e)}function Ml(t,e){var n=Object.assign({},e,{content:il(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(kl(Object.assign({},xl,{plugins:e}))):$l).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},xl.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Al(t,e){t.innerHTML=e}function El(t){var e=cl();return!0===t?e.className=Ju:(e.className=Zu,hl(t)?e.appendChild(t):Al(e,t)),e}function Nl(t,e){hl(e.content)?(Al(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Al(t,e.content):t.textContent=e.content)}function Ol(t){var e=t.firstElementChild,n=ul(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(Qu)})),arrow:n.find((function(t){return t.classList.contains(Ju)||t.classList.contains(Zu)})),backdrop:n.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Sl(t){var e=cl(),n=cl();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=cl();function i(n,r){var i=Ol(e),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Nl(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(El(r.arrow))):o.appendChild(El(r.arrow)):s&&o.removeChild(s)}return r.className=Qu,r.setAttribute("data-state","hidden"),Nl(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props),{popper:e,onUpdate:i}}Sl.$$tippy=!0;var Tl=1,Cl=[],zl=[];function jl(t,e){var n,r,i,o,a,s,u,l,c=Ml(t,Object.assign({},xl,kl(ll(e)))),h=!1,f=!1,p=!1,d=!1,m=[],g=ol(X,c.interactiveDebounce),v=Tl++,y=(l=c.plugins).filter((function(t,e){return l.indexOf(t)===e})),_={id:v,reference:t,popper:cl(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(e){if(!_.state.isDestroyed){z("onBeforeUpdate",[_,e]),W();var n=_.props,r=Ml(t,Object.assign({},n,ll(e),{ignoreAttributes:!0}));_.props=r,R(),n.interactiveDebounce!==r.interactiveDebounce&&(L(),g=ol(X,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?al(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded"),P(),C(),x&&x(n,r),_.popperInstance&&(Q(),Z().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),z("onAfterUpdate",[_,e])}},setContent:function(t){_.setProps({content:t})},show:function(){var t=_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=gl.isTouch&&!_.props.touch,i=nl(_.props.duration,0,xl.duration);if(!(t||e||n||r||N().hasAttribute("disabled")||(z("onShow",[_],!1),!1===_.props.onShow(_)))){if(_.state.isVisible=!0,E()&&(b.style.visibility="visible"),C(),H(),_.state.isMounted||(b.style.transition="none"),E()){var o=S();fl([o.box,o.content],0)}var a,u,l;s=function(){var t;if(_.state.isVisible&&!d){if(d=!0,b.offsetHeight,b.style.transition=_.props.moveTransition,E()&&_.props.animation){var e=S(),n=e.box,r=e.content;fl([n,r],i),pl([n,r],"visible")}j(),P(),sl(zl,_),null==(t=_.popperInstance)||t.forceUpdate(),z("onMount",[_]),_.props.animation&&E()&&function(t,e){V(t,(function(){_.state.isShown=!0,z("onShown",[_])}))}(i)}},u=_.props.appendTo,l=N(),(a=_.props.interactive&&u===el||"parent"===u?l.parentNode:il(u,[l])).contains(b)||a.appendChild(b),_.state.isMounted=!0,Q()}},hide:function(){var t=!_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=nl(_.props.duration,1,xl.duration);if(!(t||e||n)&&(z("onHide",[_],!1),!1!==_.props.onHide(_))){if(_.state.isVisible=!1,_.state.isShown=!1,d=!1,h=!1,E()&&(b.style.visibility="hidden"),L(),F(),C(!0),E()){var i=S(),o=i.box,a=i.content;_.props.animation&&(fl([o,a],r),pl([o,a],"hidden"))}j(),P(),_.props.animation?E()&&function(t,e){V(t,(function(){!_.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&e()}))}(r,_.unmount):_.unmount()}},hideWithInteractivity:function(t){O().addEventListener("mousemove",g),sl(Cl,g),g(t)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){_.state.isVisible&&_.hide(),_.state.isMounted&&(J(),Z().forEach((function(t){t._tippy.unmount()})),b.parentNode&&b.parentNode.removeChild(b),zl=zl.filter((function(t){return t!==_})),_.state.isMounted=!1,z("onHidden",[_]))},destroy:function(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),W(),delete t._tippy,_.state.isDestroyed=!0,z("onDestroy",[_]))}};if(!c.render)return _;var w=c.render(_),b=w.popper,x=w.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+_.id,_.popper=b,t._tippy=_,b._tippy=_;var $=y.map((function(t){return t.fn(_)})),k=t.hasAttribute("aria-expanded");return R(),P(),C(),z("onCreate",[_]),c.showOnCreate&&tt(),b.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),b.addEventListener("mouseleave",(function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",g)})),_;function M(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===M()[0]}function E(){var t;return!(null==(t=_.props.render)||!t.$$tippy)}function N(){return u||t}function O(){var t,e,n=N().parentNode;return n?null!=(e=al(n)[0])&&null!=(t=e.ownerDocument)&&t.body?e.ownerDocument:document:document}function S(){return Ol(b)}function T(t){return _.state.isMounted&&!_.state.isVisible||gl.isTouch||o&&"focus"===o.type?0:nl(_.props.delay,t?0:1,xl.delay)}function C(t){void 0===t&&(t=!1),b.style.pointerEvents=_.props.interactive&&!t?"":"none",b.style.zIndex=""+_.props.zIndex}function z(t,e,n){var r;void 0===n&&(n=!0),$.forEach((function(n){n[t]&&n[t].apply(n,e)})),n&&(r=_.props)[t].apply(r,e)}function j(){var e=_.props.aria;if(e.content){var n="aria-"+e.content,r=b.id;al(_.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(_.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var i=e&&e.replace(r,"").trim();i?t.setAttribute(n,i):t.removeAttribute(n)}}))}}function P(){!k&&_.props.aria.expanded&&al(_.props.triggerTarget||t).forEach((function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===N()?"true":"false"):t.removeAttribute("aria-expanded")}))}function L(){O().removeEventListener("mousemove",g),Cl=Cl.filter((function(t){return t!==g}))}function q(e){if(!gl.isTouch||!p&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!_.props.interactive||!ml(b,n)){if(al(_.props.triggerTarget||t).some((function(t){return ml(t,n)}))){if(gl.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),f=!0,setTimeout((function(){f=!1})),_.state.isMounted||F())}}}function D(){p=!0}function I(){p=!1}function H(){var t=O();t.addEventListener("mousedown",q,!0),t.addEventListener("touchend",q,tl),t.addEventListener("touchstart",I,tl),t.addEventListener("touchmove",D,tl)}function F(){var t=O();t.removeEventListener("mousedown",q,!0),t.removeEventListener("touchend",q,tl),t.removeEventListener("touchstart",I,tl),t.removeEventListener("touchmove",D,tl)}function V(t,e){var n=S().box;function r(t){t.target===n&&(dl(n,"remove",r),e())}if(0===t)return e();dl(n,"remove",a),dl(n,"add",r),a=r}function B(e,n,r){void 0===r&&(r=!1),al(_.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),m.push({node:t,eventType:e,handler:n,options:r})}))}function R(){A()&&(B("touchstart",U,{passive:!0}),B("touchend",Y,{passive:!0})),function(t){return t.split(/\s+/).filter(Boolean)}(_.props.trigger).forEach((function(t){if("manual"!==t)switch(B(t,U),t){case"mouseenter":B("mouseleave",Y);break;case"focus":B(bl?"focusout":"blur",K);break;case"focusin":B("focusout",K)}}))}function W(){m.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,i=t.options;e.removeEventListener(n,r,i)})),m=[]}function U(t){var e,n=!1;if(_.state.isEnabled&&!G(t)&&!f){var r="focus"===(null==(e=o)?void 0:e.type);o=t,u=t.currentTarget,P(),!_.state.isVisible&&function(t){return rl(t,"MouseEvent")}(t)&&Cl.forEach((function(e){return e(t)})),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:tt(t),"click"===t.type&&(h=!n),n&&!r&&et(t)}}function X(t){var e=t.target,n=N().contains(e)||b.contains(e);if("mousemove"!==t.type||!n){var r=Z().concat(b).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:c}:null})).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=i.placement.split("-")[0],s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,c="right"===a?s.left.x:0,h="left"===a?s.right.x:0,f=e.top-r+u>o,p=r-e.bottom-l>o,d=e.left-n+c>o,m=n-e.right-h>o;return f||p||d||m}))})(r,t)&&(L(),et(t))}}function Y(t){G(t)||_.props.trigger.indexOf("click")>=0&&h||(_.props.interactive?_.hideWithInteractivity(t):et(t))}function K(t){_.props.trigger.indexOf("focusin")<0&&t.target!==N()||_.props.interactive&&t.relatedTarget&&b.contains(t.relatedTarget)||et(t)}function G(t){return!!gl.isTouch&&A()!==t.type.indexOf("touch")>=0}function Q(){J();var e=_.props,n=e.popperOptions,r=e.placement,i=e.offset,o=e.getReferenceClientRect,a=e.moveTransition,u=E()?Ol(b).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||N()}:t,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(E()){var n=S().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},c];E()&&u&&h.push({name:"arrow",options:{element:u,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),_.popperInstance=Gu(l,b,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:h}))}function J(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Z(){return ul(b.querySelectorAll("[data-tippy-root]"))}function tt(t){_.clearDelayTimeouts(),t&&z("onTrigger",[_,t]),H();var e=T(!0),r=M(),i=r[0],o=r[1];gl.isTouch&&"hold"===i&&o&&(e=o),e?n=setTimeout((function(){_.show()}),e):_.show()}function et(t){if(_.clearDelayTimeouts(),z("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&h)){var e=T(!1);e?r=setTimeout((function(){_.state.isVisible&&_.hide()}),e):i=requestAnimationFrame((function(){_.hide()}))}}else F()}}function Pl(t,e){void 0===e&&(e={});var n=xl.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",yl,tl),window.addEventListener("blur",wl);var r=Object.assign({},e,{plugins:n}),i=function(t){return hl(t)?[t]:function(t){return rl(t,"NodeList")}(t)?ul(t):Array.isArray(t)?t:ul(document.querySelectorAll(t))}(t).reduce((function(t,e){var n=e&&jl(e,r);return n&&t.push(n),t}),[]);return hl(t)?i[0]:i}Pl.defaultProps=xl,Pl.setDefaultProps=function(t){Object.keys(t).forEach((function(e){xl[e]=t[e]}))},Pl.currentInput=gl,Object.assign({},ju,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),Pl.setDefaultProps({render:Sl});const Ll=Pl;function ql(t,e){const n=Ll(t,e);return{update(t){n.setProps(t)},destroy(){n.destroy()}}}function Dl(t,e){return void 0!==e&&t.index_call>e.index_return?"var(--vscode-list-hoverBackground)":"root"===t.type?"red":"sql_query"===t.type?"var(--vscode-charts-purple)":"nested_background_job"===t.type?"var(--vscode-charts-green)":"outbound_http_request"===t.type?"var(--vscode-charts-blue)":"django_template"===t.type?"var(--vscode-extensionIcon-starForeground)":t.data.return_frame.exceptionMessage||t.data.return_frame.exception?"var(--vscode-errorForeground)":t.data.return_frame.path.includes("requests/sessions.py")||t.data.return_frame.path.includes("urllib3/connectionpool.py")?"var(--vscode-charts-blue)":t.data.return_frame.path.includes("celery")&&t.data.return_frame.co_name.includes("apply_async")?"var(--vscode-charts-green)":"var(--vscode-foreground)"}function Il(t,e){return Dl(t.target.data,e)}function Hl(t){d(t,"svelte-xcjx9p",'svg.svelte-xcjx9p{display:block;margin:0;padding:0}.tooltip-content{font-size:--vscode-editor-font-size;overflow:hidden;text-overflow:ellipsis}.file-path{opacity:0.7}.line-number{opacity:0.5}.co-name{font-family:monospace;font-weight:700;margin-bottom:0.25em}.mono{font-family:monospace}.text-md{font-size:80%}.no-wrap{white-space:nowrap}.font-bold{font-weight:700}.call-arg, .return-arg{font-family:monospace;font-size:80%}.call-arg, .return-arg{white-space:nowrap;text-overflow:ellipsis}.tippy-box{color:var(--vscode-editor-foreground);background-color:var(--vscode-dropdown-background);box-shadow:0 0 20px 4px rgba(0, 0, 0, 0.05), 0 4px 4px rgba(0, 0, 0, 0.05);padding:10px;opacity:0.96}.tippy-box[data-placement^="top"] > .tippy-arrow::before{border-top-color:var(--vscode-dropdown-background)}.tippy-box[data-placement^="bottom"] > .tippy-arrow::before{border-bottom-color:var(--vscode-dropdown-background)}.tippy-box[data-placement^="left"] > .tippy-arrow::before{border-left-color:var(--vscode-dropdown-background)}.tippy-box[data-placement^="right"] > .tippy-arrow::before{border-right-color:var(--vscode-dropdown-background)}.tippy-box > .tippy-backdrop{background-color:var(--vscode-dropdown-background)}.tippy-box > .tippy-svg-arrow{fill:var(--vscode-dropdown-background)}')}function Fl(t,e,n){const r=t.slice();return r[28]=e[n],r[30]=n,r}function Vl(t,e,n){const r=t.slice();return r[28]=e[n],r}function Bl(t,e,n){const r=t.slice();return r[33]=e[n],r}function Rl(t){let e,n,r,i,o;return{c(){e=_("path"),$(e,"fill","none"),$(e,"stroke-width",n=t[7](t[33].target.data.all_children_count)),$(e,"stroke-opacity",r=.6),$(e,"style",i=`stroke: ${Il(t[33],t[2])};`),$(e,"d",o=t[12](t[33])||void 0)},m(t,n){m(t,e,n)},p(t,r){160&r[0]&&n!==(n=t[7](t[33].target.data.all_children_count))&&$(e,"stroke-width",n),36&r[0]&&i!==(i=`stroke: ${Il(t[33],t[2])};`)&&$(e,"style",i),32&r[0]&&o!==(o=t[12](t[33])||void 0)&&$(e,"d",o)},d(t){t&&g(e)}}}function Wl(e){let n,r,i,a,s,u,l,c;return{c(){n=_("circle"),$(n,"transform",r="rotate("+(180*e[6].x/Math.PI-90)+") translate("+e[6].y+", 0)"),$(n,"r",i=e[8](e[6].data.all_children_count)+2),$(n,"fill","none"),$(n,"stroke-width",a=3),$(n,"stroke-opacity",s=.8),k(n,"stroke","var(--vscode-list-focusOutline)")},m(r,i){var a;m(r,n,i),l||(a=u=ql.call(null,n,{content:e[16](e[6].data),allowHTML:!0,hideOnClick:!1,showOnCreate:!0}),c=a&&o(a.destroy)?a.destroy:t,l=!0)},p(t,e){64&e[0]&&r!==(r="rotate("+(180*t[6].x/Math.PI-90)+") translate("+t[6].y+", 0)")&&$(n,"transform",r),320&e[0]&&i!==(i=t[8](t[6].data.all_children_count)+2)&&$(n,"r",i),u&&o(u.update)&&64&e[0]&&u.update.call(null,{content:t[16](t[6].data),allowHTML:!0,hideOnClick:!1,showOnCreate:!0})},d(t){t&&g(n),l=!1,c()}}}function Ul(t){let e,n,r,i;return{c(){e=_("circle"),$(e,"transform",n="rotate("+(180*t[28].x/Math.PI-90)+") translate("+t[28].y+", 0)"),$(e,"r",r=t[8](t[28].data.all_children_count)),$(e,"style",i=`fill: ${Dl(t[28].data,t[2])}`)},m(t,n){m(t,e,n)},p(t,o){8&o[0]&&n!==(n="rotate("+(180*t[28].x/Math.PI-90)+") translate("+t[28].y+", 0)")&&$(e,"transform",n),264&o[0]&&r!==(r=t[8](t[28].data.all_children_count))&&$(e,"r",r),12&o[0]&&i!==(i=`fill: ${Dl(t[28].data,t[2])}`)&&$(e,"style",i)},d(t){t&&g(e)}}}function Xl(t){let e,n=t[3],r=[];for(let e=0;e<n.length;e+=1)r[e]=Yl(Fl(t,n,e));return{c(){e=_("g");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){m(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){if(59404&i[0]){let o;for(n=t[3],o=0;o<n.length;o+=1){const a=Fl(t,n,o);r[o]?r[o].p(a,i):(r[o]=Yl(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&g(e),v(r,t)}}}function Yl(t){let e,n,r,o,a,s,u,l,c,h,f;function d(){return t[20](t[28])}function v(){return t[22](t[28])}return{c(){e=_("defs"),n=_("clipPath"),r=_("circle"),u=_("path"),$(r,"transform",o="rotate("+(180*t[28].x/Math.PI-90)+") translate("+t[28].y+", 0)"),$(r,"r",Gl),$(r,"style",a=`fill: ${Dl(t[28].data,t[2])}`),$(n,"id",s=`voronoi-clip-path-${t[30]}`),$(u,"fill","rgba(0,0,0,0)"),$(u,"d",l=t[11].renderCell(t[30])),$(u,"clip-path",c=`url(#voronoi-clip-path-${t[30]})`),$(u,"pointer-events","all"),k(u,"cursor","pointer")},m(i,o){m(i,e,o),p(e,n),p(n,r),m(i,u,o),h||(f=[x(u,"mouseover",d),x(u,"mouseout",t[21]),x(u,"click",v)],h=!0)},p(e,n){t=e,8&n[0]&&o!==(o="rotate("+(180*t[28].x/Math.PI-90)+") translate("+t[28].y+", 0)")&&$(r,"transform",o),12&n[0]&&a!==(a=`fill: ${Dl(t[28].data,t[2])}`)&&$(r,"style",a),2048&n[0]&&l!==(l=t[11].renderCell(t[30]))&&$(u,"d",l)},d(t){t&&g(e),t&&g(u),h=!1,i(f)}}}function Kl(e){let n,r,i,o,a,s,u,l=e[5],c=[];for(let t=0;t<l.length;t+=1)c[t]=Rl(Bl(e,l,t));let h=e[6]&&Wl(e),f=e[3],d=[];for(let t=0;t<f.length;t+=1)d[t]=Ul(Vl(e,f,t));let w=e[11]&&Xl(e);return{c(){n=y("main"),r=_("svg"),i=_("g"),o=_("g");for(let t=0;t<c.length;t+=1)c[t].c();h&&h.c(),a=_("g");for(let t=0;t<d.length;t+=1)d[t].c();w&&w.c(),$(i,"transform",s=e[10]?`translate(${e[10].x}, ${e[10].y}) scale(${e[10].k})`:""),$(r,"width",e[0]),$(r,"height",e[1]),$(r,"viewBox",u=e[4]?`${e[4].x}, ${e[4].y}, ${e[4].width}, ${e[4].height}`:void 0),$(r,"class","svelte-xcjx9p")},m(t,s){m(t,n,s),p(n,r),p(r,i),p(i,o);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(o,null);h&&h.m(i,null),p(i,a);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(a,null);w&&w.m(i,null),e[23](r)},p(t,e){if(4260&e[0]){let n;for(l=t[5],n=0;n<l.length;n+=1){const r=Bl(t,l,n);c[n]?c[n].p(r,e):(c[n]=Rl(r),c[n].c(),c[n].m(o,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}if(t[6]?h?h.p(t,e):(h=Wl(t),h.c(),h.m(i,a)):h&&(h.d(1),h=null),268&e[0]){let n;for(f=t[3],n=0;n<f.length;n+=1){const r=Vl(t,f,n);d[n]?d[n].p(r,e):(d[n]=Ul(r),d[n].c(),d[n].m(a,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}t[11]?w?w.p(t,e):(w=Xl(t),w.c(),w.m(i,null)):w&&(w.d(1),w=null),1024&e[0]&&s!==(s=t[10]?`translate(${t[10].x}, ${t[10].y}) scale(${t[10].k})`:"")&&$(i,"transform",s),1&e[0]&&$(r,"width",t[0]),2&e[0]&&$(r,"height",t[1]),16&e[0]&&u!==(u=t[4]?`${t[4].x}, ${t[4].y}, ${t[4].width}, ${t[4].height}`:void 0)&&$(r,"viewBox",u)},i:t,o:t,d(t){t&&g(n),v(c,t),h&&h.d(),v(d,t),w&&w.d(),e[23](null)}}}BigInt.prototype.toJSON=function(){return this.toString()};const Gl=25;function Ql(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))};let{frame:i}=e,{width:o}=e,{height:a}=e,{focusFrame:s}=e;const u=O(),l=function(){const t=function(t){let e=Ge,n=Qe,r=Ye,i=Ke,o=null,a=null,s=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Xe(e)}(u);function u(){let u;const l=qe.call(arguments),c=e.apply(this,l),h=n.apply(this,l);if(null==o&&(a=t(u=s())),a.lineStart(),l[0]=c,a.point(+r.apply(this,l),+i.apply(this,l)),l[0]=h,a.point(+r.apply(this,l),+i.apply(this,l)),a.lineEnd(),u)return a=null,u+""||null}return u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.x=function(t){return arguments.length?(r="function"==typeof t?t:De(+t),u):r},u.y=function(t){return arguments.length?(i="function"==typeof t?t:De(+t),u):i},u.context=function(e){return arguments.length?(null==e?o=a=null:a=t(o=e),u):o},u}(Fe);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}().angle((t=>t.x)).radius((t=>t.y));let c,h,f,p,d,m,g,v,y,_,w;function b(t){n(10,y=t.transform)}function x(t){u("frameFocus",t.data)}function $(){u("frameFocus",void 0)}function k(t){u("frameClick",null==t?void 0:t.data)}return N((()=>r(void 0,void 0,void 0,(function*(){yield q(),n(4,_=v.getBBox()),v&&Br(v).call(vs().on("zoom",b))})))),t.$$set=t=>{"frame"in t&&n(17,i=t.frame),"width"in t&&n(0,o=t.width),"height"in t&&n(1,a=t.height),"focusFrame"in t&&n(2,s=t.focusFrame)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(18,c=o/2),393216&t.$$.dirty[0]&&n(19,h=function(t,e){const n=Ds(t);return function(){var t=Os,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new js(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new js(r[i],i)),n.parent=e;return(a.parent=new js(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var l=i,c=i,h=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)}));var f=l===c?1:t(l,c)/2,p=f-l.x,d=e/(c.x+f+p),m=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*m}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],l=o.m,c=a.m,h=s.m,f=u.m;s=Ts(s),o=Ss(o),s&&o;)u=Ss(u),(a=Ts(a)).a=e,(i=s.z+h-o.z-l+t(s._,o._))>0&&(Cs(zs(s,e,r),e,i),l+=i,c+=i),h+=s.m,l+=o.m,f+=u.m,c+=a.m;s&&!Ts(a)&&(a.t=s,a.m+=h-c),o&&!Ss(u)&&(u.t=o,u.m+=l-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}().size(e).separation(((t,e)=>(t.parent,e.parent,1/t.depth)))(n)}(i,[Math.PI,c])),524288&t.$$.dirty[0]&&n(5,f=h.links().filter((t=>"root"!==t.source.data.type))),524288&t.$$.dirty[0]&&n(3,p=h.descendants().filter((t=>"root"!==t.data.type))),12&t.$$.dirty[0]&&n(6,d=p.find((t=>t.data===s))),524288&t.$$.dirty[0]&&n(7,m=Le([0,h.data.all_children_count],[1.5,6])),524288&t.$$.dirty[0]&&n(8,g=Le([0,h.data.all_children_count],[1.5,8])),24&t.$$.dirty[0]&&n(11,w=_?En.from(p.map((t=>Ie(t.x,t.y)))).voronoi([_.x,_.y,_.x+_.width,_.y+_.height]):void 0)},[o,a,s,p,_,f,d,m,g,v,y,w,l,x,$,k,function(t){if("root"===t.type)return"";if("sql_query"===t.type)return`\n        <div class="tooltip-content">\n          <div class="return-arg">${_s()(t.data.query)}</div>\n        </div>\n      `;if("outbound_http_request"===t.type){const{request:e,response:n}=t.data;let r=`\n      <div class="tooltip-content mono no-wrap">\n        <div class="text-md">${e.method}</div>\n        <div class="font-bold">${e.url}</div>\n      `;return e.body&&(r+=`\n          <div class="text-md">${_s()(e.body)}</div>\n        `),n&&(r+=`\n          <br />\n          <div class="text-md">${n.status_code}</div>\n        `,n.body&&(r+=`\n          <div class="text-md">${_s()(n.body)}</div>\n        `)),r+="\n</div>",r}if("nested_background_job"===t.type)return`\n      <div class="tooltip-content mono no-wrap">\n        <div class="text-md">${t.data.subtype} job</div>\n        <div class="font-bold">${t.data.name}</div>\n      </div>`;if("django_template"===t.type)return`\n      <div class="tooltip-content mono no-wrap">\n        <div class="text-md">Django Template</div>\n        <div class="font-bold">${t.data.template}</div>\n      </div>`;{const[e,n]=t.data.return_frame.path.split(":"),{co_name:r}=t.data.return_frame;return`\n        <div class="tooltip-content">\n          <div class="file-path-and-line-number">\n            <span class="file-path">${e}</span><span class="line-number">:${n}</span>\n          </div>\n          <div class="co-name">${_s()(r)}</div>\n          <div class="return-arg">return: ${_s()(function(t,e=!0){if(null===t)return"None";if(!1===t)return"False";if(!0===t)return"True";if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return e?JSON.stringify(t,null,2):JSON.stringify(t)}(t.data.return_frame.arg))}</div>\n        </div>\n      `}},i,c,h,t=>x(t),()=>$(),t=>k(t),function(t){T[t?"unshift":"push"]((()=>{v=t,n(9,v)}))}]}const Jl=class extends tt{constructor(t){super(),Z(this,t,Ql,Kl,a,{frame:17,width:0,height:1,focusFrame:2},Hl,[-1,-1])}};function Zl(t,e){return[t,e]}function tc(t,e={}){let n=t.toString();return void 0!==e.dp&&(n=Me(`,.${e.dp}f`)(t)),void 0!==e.suffix&&(n+=e.suffix),n}function ec(t,e=0){return 0===t?"0":t<1?tc(1e3*t,{suffix:"ms",dp:Math.max(0,e-3)}):t<60?tc(t,{suffix:"s",dp:Math.max(0,e)}):tc(t/60,{suffix:"m",dp:Math.max(0,e+1)})}function nc(t){return""!==window.getComputedStyle(t).getPropertyValue("--vscode-foreground")}class rc{constructor(t){if(this.cache=new Map,nc(t.document.documentElement))this.computedStyle=t.getComputedStyle(t.document.documentElement);else{const e=t.document.getElementById("viz");if(!e)throw new Error("No viz element found when trying to get CSS vars");if(!nc(e))throw new Error("No vscode CSS vars found whenon viz element");this.computedStyle=t.getComputedStyle(e)}}get(t){if(!this.cache.has(t)){const e=this.computedStyle.getPropertyValue(t);return this.cache.set(t,e),e}return this.cache.get(t)}}function ic({graph:t,getX:e,getY:n,getWidth:r,getHeight:i,canvasWidth:o,canvasHeight:a,context:s,cssVars:u,drawLabels:l=!0,xAxis:c}){s.save();const h=u.get("--vscode-editor-background"),f=u.get("--vscode-editor-foreground"),p=ac(h,.9),d=ac(h,.55),m=u.get("--vscode-font-weight"),g=u.get("--vscode-font-family");if(s.font=`${m} 11px ${g}`,sc(t.hierarchy,(t=>{var c;const f=e(t),m=n(t),g=r(t),v=i(t);if(f+g<0||f>o||m+v<0||m>a||g<.33)return;const y=null!==(c=da(function(t,e){return(t=t.trim()).startsWith("var(")&&t.endsWith(")")?e.get(t.slice("var(".length,-1)):t}(Dl(t.data),u)))&&void 0!==c?c:da("red");if(y.opacity=.6,s.fillStyle=y.formatRgb(),s.fillRect(f,m,g,v),s.strokeStyle=h,s.lineWidth=.2,s.strokeRect(f,m,g,v),l&&g>=10){s.save(),s.rect(f,m,g,v),s.clip(),s.fillStyle=p;const e=function(t){return"frame_span"===t.type?t.data.return_frame.co_name:"sql_query"===t.type?t.data.query:"outbound_http_request"===t.type?t.data.request.method_and_full_url:"nested_background_job"===t.type?t.data.name:"django_template"===t.type?t.data.template:"root"===t.type?"":t}(t.data),n=Math.max(5,f+3),r=m+v-4;s.fillText(e,n,r);const i=s.measureText(e).width,o=ec(t.data.timing.total);s.fillStyle=d,s.fillText(`(${o})`,n+i+3,r),s.restore()}})),c){const t=s.createLinearGradient(0,0,0,c.tickHeight);t.addColorStop(0,h),t.addColorStop(.2,ac(h,.9)),t.addColorStop(1,ac(h,.6)),s.fillStyle=t,s.fillRect(0,0,o,c.tickHeight),function({height:t,scale:e,formatTick:n,fontFamily:r,tickLabelColor:i,tickLineColor:o,tickHeight:a,context:s}){const u=Math.round(99),l=Math.abs(e.range()[0]-e.range()[1])/u,c=e.ticks(l),h=function(t){const e=ws(function(t,e=Zl){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}(t,((t,e)=>Math.abs(t-e))));if(void 0!==e)return 1-function(t){if(0===t)return 0;const e=Math.floor(Math.log10(Math.abs(t)))+1;return Number.isFinite(e)?e:0}(1.000001*e)}(c);s.save(),s.font=`11px ${r}`,s.fillStyle=i,s.strokeStyle=o,s.lineWidth=1;for(const r of c){const i=e(r),o=n(r,h);s.beginPath(),s.moveTo(i,a),s.lineTo(i,t),s.stroke(),o&&(s.textAlign="center",s.fillText(o,i,.75*a))}s.restore()}({height:a,scale:c.scale,formatTick:ec,fontFamily:g,tickHeight:c.tickHeight,tickLabelColor:ac(f,.8),tickLineColor:ac(f,.15),context:s})}s.restore()}function oc({x:t,y:e,width:n,height:r,color:i,orient:o,context:a}){const s="left"===o?a.createLinearGradient(t,e,t+n,e):a.createLinearGradient(t+n,e,t,e);s.addColorStop(0,ac(i,.9)),s.addColorStop(.5,ac(i,.3)),s.addColorStop(.75,ac(i,.1)),s.addColorStop(1,ac(i,0)),a.fillStyle=s,a.fillRect(t,e,n,r)}function ac(t,e){const n=da(t);return n.opacity=e,null==n?void 0:n.formatRgb()}function sc(t,e,n){var r;n&&n(t)||("root"!==t.data.type&&e(t),null===(r=t.children)||void 0===r||r.forEach((t=>sc(t,e,n))))}function uc(t,e){let n=0,r=t.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t[i],a=e(o);if(0===a)return o;a<0?r=i-1:n=i+1}}function lc(t){d(t,"svelte-1sgxhhm",".container.svelte-1sgxhhm.svelte-1sgxhhm{position:relative;overflow:hidden}.container.svelte-1sgxhhm canvas.svelte-1sgxhhm{display:block}.focus-marker.svelte-1sgxhhm.svelte-1sgxhhm{position:absolute;box-shadow:0 0 0 3px var(--vscode-list-focusOutline);opacity:0.8;pointer-events:none}")}function cc(t){let e,n;return{c(){e=y("div"),$(e,"class","focus-marker svelte-1sgxhhm"),$(e,"style",n=`left: ${t[5](t[3])-1}px; top: ${t[6](t[3])-1}px; width: ${t[7](t[3])+2}px; height: ${t[8](t[3])+2}px`)},m(t,n){m(t,e,n)},p(t,r){488&r[0]&&n!==(n=`left: ${t[5](t[3])-1}px; top: ${t[6](t[3])-1}px; width: ${t[7](t[3])+2}px; height: ${t[8](t[3])+2}px`)&&$(e,"style",n)},d(t){t&&g(e)}}}function hc(e){let n,r,o,a,s,u,l,c;D(e[25]);let h=e[3]&&cc(e);return{c(){n=y("main"),r=y("div"),o=y("canvas"),s=b(),h&&h.c(),$(o,"tabindex","0"),$(o,"aria-label","Flame Chart"),$(o,"role","tree"),$(o,"style",a=`width: ${e[0]}px; height: ${e[1]}px;`),$(o,"class","svelte-1sgxhhm"),$(r,"class","container svelte-1sgxhhm"),$(r,"style",u="cursor: "+(e[3]?"pointer":"default"))},m(t,i){m(t,n,i),p(n,r),p(r,o),e[26](o),p(r,s),h&&h.m(r,null),l||(c=[x(window,"resize",e[25]),x(o,"mousemove",e[9]),x(o,"click",e[10])],l=!0)},p(t,e){3&e[0]&&a!==(a=`width: ${t[0]}px; height: ${t[1]}px;`)&&$(o,"style",a),t[3]?h?h.p(t,e):(h=cc(t),h.c(),h.m(r,null)):h&&(h.d(1),h=null),8&e[0]&&u!==(u="cursor: "+(t[3]?"pointer":"default"))&&$(r,"style",u)},i:t,o:t,d(t){t&&g(n),e[26](null),h&&h.d(),l=!1,i(c)}}}function fc(t,e,n){const r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1]/t.k,a=t.invertY(e[1][1])-n[1][1]/t.k;return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function pc(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))};let i,o,{frame:a}=e,{width:s}=e,{height:u}=e,{cssVars:l}=e,{focusFrame:c}=e,h=0;const f=20,p=8,d=10,m=8;let g,v,y,_,w,b,x,$,k,M=us,A=vs();function E(t){Br(x).property("__zoom",t)}function S(t){var e,i;return r(this,void 0,void 0,(function*(){const r=t.transform.k===M.k&&"wheel"!==(null===(e=t.sourceEvent)||void 0===e?void 0:e.type)&&"dblclick"!==(null===(i=t.sourceEvent)||void 0===i?void 0:i.type);n(18,M=fc(us.translate(t.transform.x,r?t.transform.y:M.y).scale(t.transform.k),w,b)),E(M),yield q(),H()}))}const C=O();function z(t,e){var n;const r=y(e);if(r<1||r>i.maxDepth)return;let o=i.hierarchy;for(;void 0!==o&&o.depth<r;)o=uc(null!==(n=o.children)&&void 0!==n?n:[],(e=>{const n=P(e),r=D(e);return t>=n&&t<=n+r?0:t<n?-1:1}));return o}let j,P,L,D,I;function H(){if(!x)return;n(2,x.width=s*j,x),n(2,x.height=u*j,x);const t=x.getContext("2d");t.clearRect(0,0,x.width,x.height),t.scale(j,j),t.save(),ic({graph:i,getX:P,getY:L,getWidth:D,getHeight:I,canvasWidth:s,canvasHeight:u,context:t,cssVars:l,xAxis:{scale:_,tickHeight:18}});const e=l.get("--vscode-editor-background"),r=-m*(M.k-1),o=Math.abs(M.x-r);o>0&&oc({x:0,y:0,width:20*Math.min(o/70,1),height:u,color:e,orient:"left",context:t});const a=(-s+p)*(M.k-1),c=Math.abs(a-M.x);if(c>0){const n=20*Math.min(c/70,1);oc({x:s-n,y:0,width:n,height:u,color:e,orient:"right",context:t})}t.restore()}return N((()=>{H()})),t.$$set=t=>{"frame"in t&&n(11,a=t.frame),"width"in t&&n(0,s=t.width),"height"in t&&n(1,u=t.height),"cssVars"in t&&n(12,l=t.cssVars),"focusFrame"in t&&n(13,c=t.focusFrame)},t.$$.update=()=>{2048&t.$$.dirty[0]&&n(14,i=function(t){const e=Ds(t);let n=0,r=1/0,i=-1/0;return sc(e,(t=>{const e=t.depth;n<e&&(n=e);const{start:o,end:a}=t.data.timing;r>o&&(r=o),i<a&&(i=a)})),{hierarchy:e,minStart:0,maxEnd:i-r,maxDepth:n,getStart:t=>t.data.timing.start-r,getEnd:t=>t.data.timing.end-r,getDepth:t=>t.depth}}(a)),16384&t.$$.dirty[0]&&n(15,h=16*(i.maxDepth-1)),24576&t.$$.dirty[0]&&n(3,o=i.hierarchy.find((t=>t.data===c))),16385&t.$$.dirty[0]&&n(16,g=Se().domain([i.minStart,i.maxEnd]).range([m,s-p])),3&t.$$.dirty[0]&&n(20,w=[[m,f],[s-p,u-d]]),32771&t.$$.dirty[0]&&n(21,b=[[m,f],[s-p,Math.max(f+h+d,u-d)]]),28573699&t.$$.dirty[0]&&(s===$&&u===k||(void 0!==$&&void 0!==k&&(n(18,M=fc(us.scale(M.k).translate(M.x/$*s/M.k,M.y/M.k),w,b)),E(M)),n(23,$=s),n(24,k=u),q().then((()=>H())))),262144&t.$$.dirty[0]&&n(17,v=t=>16*(t-1)+f+M.y),262144&t.$$.dirty[0]&&(y=t=>1+Math.floor((t-f-M.y)/16)),327680&t.$$.dirty[0]&&n(19,_=M.rescaleX(g)),3145728&t.$$.dirty[0]&&n(22,A=vs().extent(w).translateExtent(b).constrain(fc).scaleExtent([1,2e4]).on("zoom",S)),4194308&t.$$.dirty[0]&&x&&Br(x).call(A),4096&t.$$.dirty[0]&&l&&H(),540672&t.$$.dirty[0]&&n(5,P=t=>_(i.getStart(t))),147456&t.$$.dirty[0]&&n(6,L=t=>v(i.getDepth(t))),540672&t.$$.dirty[0]&&n(7,D=t=>_(i.getEnd(t))-_(i.getStart(t)))},n(8,I=()=>15),[s,u,x,o,j,P,L,D,I,function(t){const[e,n]=po(t),r=z(e,n);r?r!==o&&C("frameFocus",r.data):C("frameFocus",void 0)},function(t){const[e,n]=po(t),r=z(e,n);var i;r&&C("frameClick",null==(i=r)?void 0:i.data)},a,l,c,i,h,g,v,M,_,w,b,A,$,k,function(){n(4,j=window.devicePixelRatio)},function(t){T[t?"unshift":"push"]((()=>{x=t,n(2,x)}))}]}const dc=class extends tt{constructor(t){super(),Z(this,t,pc,hc,a,{frame:11,width:0,height:1,cssVars:12,focusFrame:13},lc,[-1,-1])}};function mc(t){d(t,"svelte-gwg88e",".toggle-button.svelte-gwg88e{position:absolute;color:var(--vscode-editor-foreground);opacity:0.5;cursor:pointer;font-size:var(--vscode-editor-font-size)}.toggle-button.svelte-gwg88e:hover{opacity:1}")}function gc(e){let n,r,i,o,a,s,u=e[0]?"Hide":"Show";return{c(){n=y("span"),r=w(u),i=w(" Flame Graph"),$(n,"class","toggle-button svelte-gwg88e"),$(n,"style",o=`\n    top: ${e[1]}px;\n    right: ${e[2]}px;\n  `)},m(t,o){m(t,n,o),p(n,r),p(n,i),a||(s=x(n,"click",e[4]),a=!0)},p(t,[e]){var i,a;1&e&&u!==(u=t[0]?"Hide":"Show")&&(a=""+(a=u),(i=r).data!==a&&(i.data=a)),6&e&&o!==(o=`\n    top: ${t[1]}px;\n    right: ${t[2]}px;\n  `)&&$(n,"style",o)},i:t,o:t,d(t){t&&g(n),a=!1,s()}}}function vc(t,e,n){const r=O();let{isVisible:i}=e,{top:o}=e,{right:a}=e;const s=()=>{r("buttonClick")};return t.$$set=t=>{"isVisible"in t&&n(0,i=t.isVisible),"top"in t&&n(1,o=t.top),"right"in t&&n(2,a=t.right)},[i,o,a,s,()=>{s()}]}const yc=class extends tt{constructor(t){super(),Z(this,t,vc,gc,a,{isVisible:0,top:1,right:2},mc)}};function _c(t){d(t,"svelte-z96yku",".horizontal-separator.svelte-z96yku{position:absolute;z-index:9999;background-color:var(--vscode-textSeparator-foreground);width:100%;height:1px}")}function wc(e){let n,r;return{c(){n=y("div"),$(n,"class","horizontal-separator svelte-z96yku"),$(n,"style",r=`top: ${e[0]}px`)},m(t,e){m(t,n,e)},p(t,[e]){1&e&&r!==(r=`top: ${t[0]}px`)&&$(n,"style",r)},i:t,o:t,d(t){t&&g(n)}}}function bc(t,e,n){let{y:r}=e;return t.$$set=t=>{"y"in t&&n(0,r=t.y)},[r]}const xc=class extends tt{constructor(t){super(),Z(this,t,bc,wc,a,{y:0},_c)}};function $c(t){d(t,"svelte-1iw9s1y","body,html,main.svelte-1iw9s1y{width:100%;height:100%;padding:0;margin:0;overflow:hidden}")}function kc(t){let e,n,r,i,o,a;e=new Jl({props:{frame:t[1],focusFrame:t[0],width:t[6],height:t[7]}}),e.$on("frameClick",t[10]),e.$on("frameFocus",t[8]),r=new yc({props:{isVisible:t[4],top:t[7]-24,right:16}}),r.$on("buttonClick",t[11]);let s=t[4]&&Mc(t);return{c(){G(e.$$.fragment),n=b(),G(r.$$.fragment),i=b(),s&&s.c(),o=w("")},m(t,u){Q(e,t,u),m(t,n,u),Q(r,t,u),m(t,i,u),s&&s.m(t,u),m(t,o,u),a=!0},p(t,n){const i={};2&n&&(i.frame=t[1]),1&n&&(i.focusFrame=t[0]),64&n&&(i.width=t[6]),128&n&&(i.height=t[7]),e.$set(i);const a={};16&n&&(a.isVisible=t[4]),128&n&&(a.top=t[7]-24),r.$set(a),t[4]?s?(s.p(t,n),16&n&&Y(s,1)):(s=Mc(t),s.c(),Y(s,1),s.m(o.parentNode,o)):s&&(U(),K(s,1,1,(()=>{s=null})),X())},i(t){a||(Y(e.$$.fragment,t),Y(r.$$.fragment,t),Y(s),a=!0)},o(t){K(e.$$.fragment,t),K(r.$$.fragment,t),K(s),a=!1},d(t){J(e,t),t&&g(n),J(r,t),t&&g(i),s&&s.d(t),t&&g(o)}}}function Mc(t){let e,n,r,i;return e=new xc({props:{y:t[7]}}),r=new dc({props:{frame:t[1],focusFrame:t[0],cssVars:t[2],width:t[6],height:t[5]-t[7]}}),r.$on("frameClick",t[12]),r.$on("frameFocus",t[8]),{c(){G(e.$$.fragment),n=b(),G(r.$$.fragment)},m(t,o){Q(e,t,o),m(t,n,o),Q(r,t,o),i=!0},p(t,n){const i={};128&n&&(i.y=t[7]),e.$set(i);const o={};2&n&&(o.frame=t[1]),1&n&&(o.focusFrame=t[0]),4&n&&(o.cssVars=t[2]),64&n&&(o.width=t[6]),160&n&&(o.height=t[5]-t[7]),r.$set(o)},i(t){i||(Y(e.$$.fragment,t),Y(r.$$.fragment,t),i=!0)},o(t){K(e.$$.fragment,t),K(r.$$.fragment,t),i=!1},d(t){J(e,t),t&&g(n),J(r,t)}}}function Ac(t){let e,n,r,i=t[6]&&t[5]&&t[7]&&kc(t);return{c(){e=y("main"),i&&i.c(),$(e,"class","svelte-1iw9s1y"),D((()=>t[13].call(e)))},m(o,a){m(o,e,a),i&&i.m(e,null),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=y("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=M();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=x(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=x(n.contentWindow,"resize",e),e()}),p(t,n),()=>{(r||i&&n.contentWindow)&&i(),g(n)}}(e,t[13].bind(e)),r=!0},p(t,[n]){t[6]&&t[5]&&t[7]?i?(i.p(t,n),224&n&&Y(i,1)):(i=kc(t),i.c(),Y(i,1),i.m(e,null)):i&&(U(),K(i,1,1,(()=>{i=null})),X())},i(t){r||(Y(i),r=!0)},o(t){K(i),r=!1},d(t){t&&g(e),i&&i.d(),n()}}}function Ec(t,e,n){let r,i,o,{frame:a}=e,{cssVars:s}=e,{focusFrame:u}=e,{onFrameClick:l}=e,{onFrameFocus:c}=e,h=!0;return t.$$set=t=>{"frame"in t&&n(1,a=t.frame),"cssVars"in t&&n(2,s=t.cssVars),"focusFrame"in t&&n(0,u=t.focusFrame),"onFrameClick"in t&&n(3,l=t.onFrameClick),"onFrameFocus"in t&&n(9,c=t.onFrameFocus)},t.$$.update=()=>{48&t.$$.dirty&&i&&n(7,o=h?.7*i:i)},[u,a,s,l,h,i,r,o,function(t){var e;const r=null!==(e=t.detail)&&void 0!==e?e:void 0;n(0,u=r),c(r)},c,t=>l(t.detail),()=>{n(4,h=!h)},t=>l(t.detail),function(){r=this.clientWidth,i=this.clientHeight,n(6,r),n(5,i)}]}const Nc=class extends tt{constructor(t){super(),Z(this,t,Ec,Ac,a,{frame:1,cssVars:2,focusFrame:0,onFrameClick:3,onFrameFocus:9},$c)}};let Oc,Sc;window.acquireVsCodeApi?(Sc=window.acquireVsCodeApi(),window.addEventListener("message",(t=>{const e=t.data,{command:n}=e;if("init"===n)!function({initialData:t}){const{executionTreeNodes:e,invocationId:n}=t;Oc=new Nc({target:document.body,props:{cssVars:new rc(window),frame:Ls({executionTreeNodes:e}),onFrameClick:t=>{"frame_span"===(null==t?void 0:t.type)?Sc.postMessage({command:"goToFrame",invocationId:n,frameIndex:t.index}):"sql_query"===(null==t?void 0:t.type)?Sc.postMessage({command:"goToSQLQuery",invocationId:n,frameIndex:t.index}):"outbound_http_request"===(null==t?void 0:t.type)&&Sc.postMessage({command:"goToOutboundHttpRequest",invocationId:n,frameIndex:t.index})},onFrameFocus:()=>{}}})}(e);else{if("themeChange"!==n)throw new Error(`Unexpected command: ${null==e?void 0:e.command}`);Oc&&Oc.$set({cssVars:new rc(window)})}})),Sc.postMessage({command:"ready"})):window.addEventListener("web-load-viz",(t=>{console.log(t);const e=document.getElementById("viz");e.innerHTML="";const n=t.detail.tree.executionTreeNodes;t.detail.tree.traceId,new Nc({target:e,props:{frame:Ls({executionTreeNodes:n}),cssVars:new rc(window),onFrameClick:t=>{},onFrameFocus:()=>{}}})}))})()})();
//# sourceMappingURL=main.js.map